{"data":{"logo":{"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAf0lEQVQI12P49++f3v///xWBmBuIOYBYigEJQMXEobQ0kpg8EDMxoAOg4HQgzgbiBCB2AeJaIHYE4jAgjgbiFCD2BWI3IG6FymUCcQWUtoWqCwKpARkYBcReQJwF1egBZdcAXQ/ix0MtAmlMB4r5AGkHIA4BskGW5kMdZALESQDh3apPUyViLgAAAABJRU5ErkJggg==","width":400,"height":64,"src":"/static/1642a962a17c5982edb23d2f20e5a8e6/51380/logo.png","srcSet":"/static/1642a962a17c5982edb23d2f20e5a8e6/51380/logo.png 1x,\n/static/1642a962a17c5982edb23d2f20e5a8e6/240c8/logo.png 1.5x,\n/static/1642a962a17c5982edb23d2f20e5a8e6/f5cf3/logo.png 2x,\n/static/1642a962a17c5982edb23d2f20e5a8e6/01d7c/logo.png 3x"}}},"markdownRemark":{"html":"<p>I bought a Raspberry Pi nearly a year ago, always intending to use it in OpenCV experiments. Just recently, I got around to starting the project. The current plan is to make a small robot that first, uses computer vision to track and follow an object. The next phase will be obstacle avoidance, and is where the project becomes more of an OpenCV experiment.</p>\n<p>The main tasks are as follows:</p>\n<ol>\n<li>Install and compile OpenCV on the pi</li>\n<li>Track and find centroid of an object</li>\n<li>Send out obstacle centroid over UART</li>\n<li>Get a simple motor control system on the auxiliary MCU working</li>\n<li>Start developing obstacle avoidance functionality</li>\n</ol>\n<p>As of this post, the first two tasks are complete and the 3rd is underway. I’m doing the Pi-side software in Python, and the auxiliary MCU (used primarily for motor control) in C, and I’ll probably use a TI Hercules LaunchPad, since I’ve got one sitting around.</p>\n<p>What follows are my notes on getting the Pi up and running. I haven’t used one of these for about 2 years, so I was rusty. Hopefully these notes and linked resources will be helpful to others looking to get OpenCV going on their devices.</p>\n<h2>Pi Bringup</h2>\n<p>First, the Pi needs to get started up and we need to verify that we can SSH into it. I’m going to assume that you can boot into Raspbian reliably.</p>\n<p>While trying to set up my WiFi connection, I realized that my keyboard layout was not correct. I didn’t have the tilde and pipe characters, for example, and they’re pretty important for CLI’ing around the device.</p>\n<p>Keyboard Layout: To fix it, you need to modify the keyboard layout. This link had the right instructions for me: <a href=\"https://www.raspberrypi.org/forums/viewtopic.php?f=26&#x26;t=39806&#x26;p=331516#p331516\">https://www.raspberrypi.org/forums/viewtopic.php?f=26&#x26;t=39806&#x26;p=331516#p331516</a></p>\n<p>In short, run the following commands:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">cd /etc/default\n\nsudo nano keyboard\nIn nano, edit the config file to show the following:\n\nXKBMODEL =“ pc105”\n\nXKBLAYOUT =“ US”\n\nTo save and exit,\n\nctrl + x\nctrl + y</code></pre></div>\n<p>To shut down, run: <code class=\"language-text\">sudo shutdown -r now</code></p>\n<p><strong>Scroll CLI:</strong> To scroll in your CLI, you can run commands and pipe the output to the “less” utility, using the following syntax: <code class=\"language-text\">command | less</code></p>\n<p><strong>WiFi:</strong> I followed this tutorial to get WiFi going. I had to use the tip above to see all the details: <a href=\"https://www.raspberrypi.org/documentation/configuration/wireless/wireless-cli.md\">https://www.raspberrypi.org/documentation/configuration/wireless/wireless-cli.md</a></p>\n<p><strong>SSH:</strong> Finally, you can set up SSH access by following these instructions: <a href=\"https://www.raspberrypi.org/documentation/remote-access/ssh/\">https://www.raspberrypi.org/documentation/remote-access/ssh/</a></p>\n<h2>OpenCV Install</h2>\n<p>Now that the Pi is ready to go, we can install OpenCV and all of the relevant utilities for developing with it. The de facto standard OpenCV tutorials are by Adrian over at pyimagesearch.com,  and I followed his instructions for getting OpenCV going. Total install and compile time was about 4 hours. The tutorial is here: <a href=\"http://www.pyimagesearch.com/2016/04/18/install-guide-raspberry-pi-3-raspbian-jessie-opencv-3/\">http://www.pyimagesearch.com/2016/04/18/install-guide-raspberry-pi-3-raspbian-jessie-opencv-3/</a></p>\n<h2>Testing OpenCV</h2>\n<p>To try out OpenCV, I first wrote up the class to access the Pi Camera. The instructions are here: <a href=\"http://www.pyimagesearch.com/2015/03/30/accessing-the-raspberry-pi-camera-with-opencv-and-python/\">http://www.pyimagesearch.com/2015/03/30/accessing-the-raspberry-pi-camera-with-opencv-and-python/</a></p>\n<h2>Object Tracking</h2>\n<p>As a simple intro, I again followed one of Adrian’s tutorials. This time, it was for ball tracking, which is based on colour. <a href=\"http://www.pyimagesearch.com/2015/09/14/ball-tracking-with-opencv/\">http://www.pyimagesearch.com/2015/09/14/ball-tracking-with-opencv/</a></p>\n<h2>Project Development</h2>\n<p>With those experiments and introductions complete, I started on the tasks for my project. First, I integrated the Pi camera access code with the object tracking. Next, I cleaned up a lot of the code. Some of the pyimagesearch tutorials do things which I view as unnecessary, such as resizing the image before processing. I chose to bring in images from the Pi at 640x480, and found that the code ran faster when processing that initial size, and slower when I scaled the images down to a width of 600px. Also, I removed all of the image overlays except for the centroid location and the bounding box, since those are the only parts that are necessary for my project.</p>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1ec9b8bb3ad9a2d90a5ddca469d6d9d6/4c221/raspi-opencv-1-2.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 700px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 54.42857142857142%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIFA//EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHN5SxRJgv/xAAaEAACAgMAAAAAAAAAAAAAAAAAAgESBBAT/9oACAEBAAEFAk6OPdCcpi7wWadf/8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQMBAT8BiP/EABYRAQEBAAAAAAAAAAAAAAAAAAABEf/aAAgBAgEBPwGNf//EABwQAAEEAwEAAAAAAAAAAAAAAAABAiFREBKRQf/aAAgBAQAGPwLaZo2qzzhDl6S5cf/EABsQAQACAgMAAAAAAAAAAAAAAAEAESFxEEFR/9oACAEBAAE/IWQhD0lto14YgnEqlDDohxE7eP/aAAwDAQACAAMAAAAQD9//xAAWEQADAAAAAAAAAAAAAAAAAAABECH/2gAIAQMBAT8QNJ//xAAWEQADAAAAAAAAAAAAAAAAAAABECH/2gAIAQIBAT8QKJ//xAAbEAEBAQACAwAAAAAAAAAAAAABEQAhgTFRYf/aAAgBAQABPxCsuBBB7+GTrgK1V470IOgyUToIAMOgXyKmu//Z'); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"Screenshot of openCV detecting an object\"\n        title=\"\"\n        src=\"/static/1ec9b8bb3ad9a2d90a5ddca469d6d9d6/4c221/raspi-opencv-1-2.jpg\"\n        srcset=\"/static/1ec9b8bb3ad9a2d90a5ddca469d6d9d6/610c7/raspi-opencv-1-2.jpg 293w,\n/static/1ec9b8bb3ad9a2d90a5ddca469d6d9d6/a8060/raspi-opencv-1-2.jpg 585w,\n/static/1ec9b8bb3ad9a2d90a5ddca469d6d9d6/4c221/raspi-opencv-1-2.jpg 700w\"\n        sizes=\"(max-width: 700px) 100vw, 700px\"\n      />\n  </span>\n  </a>\n<em>Object centroid detected</em></p>\n<p>Next, I examined the example ball tracking code and looked at how the centroids were calculated. It’s pretty simple, and the units are in pixels. It’ll be really straightforward to send these values out to the auxiliary MCU, and I’ll probably only need to use a P controller to have the robot follow an object of the correct colour. Pretty neat! So far, thanks to the great documentation available for the Pi and for OpenCV, and the ease of use of Python, it has been very straightforward to get this project rolling. I can’t wait to dig more into the processing capabilities of OpenCV more and keep experimenting.</p>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d4c9cfb9b09b893101166949325cfdb0/4c221/raspi-opencv-1-3.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 700px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 73.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMEAv/EABYBAQEBAAAAAAAAAAAAAAAAAAEAAv/aAAwDAQACEAMQAAABW584YKy1/8QAGxAAAwACAwAAAAAAAAAAAAAAAQIRAAMhIiP/2gAIAQEAAQUCNQNwokdu2tvSDP/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABcRAQADAAAAAAAAAAAAAAAAAAABITH/2gAIAQIBAT8BjVP/xAAcEAACAgIDAAAAAAAAAAAAAAAAAQIRAzEhMqH/2gAIAQEABj8COW0jsLGty8JQu0jR/8QAHBAAAwADAAMAAAAAAAAAAAAAAAERITFBUWGB/9oACAEBAAE/IVnlbeyasnUiy5fTJk7eA72kbHTQ/9oADAMBAAIAAwAAABCXD//EABYRAQEBAAAAAAAAAAAAAAAAABEBAP/aAAgBAwEBPxAWaM3/xAAXEQEBAQEAAAAAAAAAAAAAAAABEQAh/9oACAECAQE/EOKyJs3/xAAcEAACAgIDAAAAAAAAAAAAAAABEQAhMaFhcdH/2gAIAQEAAT8QBRJkFvqLByIKBBVCPL6yFzAaXucmJ16UUTaep4jP/9k='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"Test subjects\"\n        title=\"\"\n        src=\"/static/d4c9cfb9b09b893101166949325cfdb0/4c221/raspi-opencv-1-3.jpg\"\n        srcset=\"/static/d4c9cfb9b09b893101166949325cfdb0/610c7/raspi-opencv-1-3.jpg 293w,\n/static/d4c9cfb9b09b893101166949325cfdb0/a8060/raspi-opencv-1-3.jpg 585w,\n/static/d4c9cfb9b09b893101166949325cfdb0/4c221/raspi-opencv-1-3.jpg 700w\"\n        sizes=\"(max-width: 700px) 100vw, 700px\"\n      />\n  </span>\n  </a>\n<em>Test subjects: squishy promotional things from industry events.</em></p>\n<h2>Useful Raspberry Pi Commands</h2>\n<p>Here’s a list of commands that I use frequently when interfacing with the Pi:</p>\n<p>Start desktop from CLI: <code class=\"language-text\">startx</code></p>\n<p>Leave Python virtual environment: <code class=\"language-text\">deactivate</code></p>\n<p>Enter Python virtual environment: <code class=\"language-text\">workon &lt;name of environment&gt;</code></p>\n<p>SSH into Pi with X window forwarding: <code class=\"language-text\">ssh -X &lt;IP address of Rpi&gt; -l &lt;username on Rpi&gt;</code></p>","htmlAst":{"type":"root","children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"I bought a Raspberry Pi nearly a year ago, always intending to use it in OpenCV experiments. Just recently, I got around to starting the project. The current plan is to make a small robot that first, uses computer vision to track and follow an object. The next phase will be obstacle avoidance, and is where the project becomes more of an OpenCV experiment."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The main tasks are as follows:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Install and compile OpenCV on the pi"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Track and find centroid of an object"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Send out obstacle centroid over UART"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Get a simple motor control system on the auxiliary MCU working"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Start developing obstacle avoidance functionality"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"As of this post, the first two tasks are complete and the 3rd is underway. I’m doing the Pi-side software in Python, and the auxiliary MCU (used primarily for motor control) in C, and I’ll probably use a TI Hercules LaunchPad, since I’ve got one sitting around."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"What follows are my notes on getting the Pi up and running. I haven’t used one of these for about 2 years, so I was rusty. Hopefully these notes and linked resources will be helpful to others looking to get OpenCV going on their devices."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Pi Bringup"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"First, the Pi needs to get started up and we need to verify that we can SSH into it. I’m going to assume that you can boot into Raspbian reliably."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"While trying to set up my WiFi connection, I realized that my keyboard layout was not correct. I didn’t have the tilde and pipe characters, for example, and they’re pretty important for CLI’ing around the device."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Keyboard Layout: To fix it, you need to modify the keyboard layout. This link had the right instructions for me: "},{"type":"element","tagName":"a","properties":{"href":"https://www.raspberrypi.org/forums/viewtopic.php?f=26&t=39806&p=331516#p331516"},"children":[{"type":"text","value":"https://www.raspberrypi.org/forums/viewtopic.php?f=26&t=39806&p=331516#p331516"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In short, run the following commands:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"cd /etc/default\n\nsudo nano keyboard\nIn nano, edit the config file to show the following:\n\nXKBMODEL =“ pc105”\n\nXKBLAYOUT =“ US”\n\nTo save and exit,\n\nctrl + x\nctrl + y"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To shut down, run: "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"sudo shutdown -r now"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Scroll CLI:"}]},{"type":"text","value":" To scroll in your CLI, you can run commands and pipe the output to the “less” utility, using the following syntax: "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"command | less"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"WiFi:"}]},{"type":"text","value":" I followed this tutorial to get WiFi going. I had to use the tip above to see all the details: "},{"type":"element","tagName":"a","properties":{"href":"https://www.raspberrypi.org/documentation/configuration/wireless/wireless-cli.md"},"children":[{"type":"text","value":"https://www.raspberrypi.org/documentation/configuration/wireless/wireless-cli.md"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"SSH:"}]},{"type":"text","value":" Finally, you can set up SSH access by following these instructions: "},{"type":"element","tagName":"a","properties":{"href":"https://www.raspberrypi.org/documentation/remote-access/ssh/"},"children":[{"type":"text","value":"https://www.raspberrypi.org/documentation/remote-access/ssh/"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"OpenCV Install"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Now that the Pi is ready to go, we can install OpenCV and all of the relevant utilities for developing with it. The de facto standard OpenCV tutorials are by Adrian over at pyimagesearch.com,  and I followed his instructions for getting OpenCV going. Total install and compile time was about 4 hours. The tutorial is here: "},{"type":"element","tagName":"a","properties":{"href":"http://www.pyimagesearch.com/2016/04/18/install-guide-raspberry-pi-3-raspbian-jessie-opencv-3/"},"children":[{"type":"text","value":"http://www.pyimagesearch.com/2016/04/18/install-guide-raspberry-pi-3-raspbian-jessie-opencv-3/"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Testing OpenCV"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To try out OpenCV, I first wrote up the class to access the Pi Camera. The instructions are here: "},{"type":"element","tagName":"a","properties":{"href":"http://www.pyimagesearch.com/2015/03/30/accessing-the-raspberry-pi-camera-with-opencv-and-python/"},"children":[{"type":"text","value":"http://www.pyimagesearch.com/2015/03/30/accessing-the-raspberry-pi-camera-with-opencv-and-python/"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Object Tracking"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"As a simple intro, I again followed one of Adrian’s tutorials. This time, it was for ball tracking, which is based on colour. "},{"type":"element","tagName":"a","properties":{"href":"http://www.pyimagesearch.com/2015/09/14/ball-tracking-with-opencv/"},"children":[{"type":"text","value":"http://www.pyimagesearch.com/2015/09/14/ball-tracking-with-opencv/"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Project Development"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"With those experiments and introductions complete, I started on the tasks for my project. First, I integrated the Pi camera access code with the object tracking. Next, I cleaned up a lot of the code. Some of the pyimagesearch tutorials do things which I view as unnecessary, such as resizing the image before processing. I chose to bring in images from the Pi at 640x480, and found that the code ran faster when processing that initial size, and slower when I scaled the images down to a width of 600px. Also, I removed all of the image overlays except for the centroid location and the bounding box, since those are the only parts that are necessary for my project."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/1ec9b8bb3ad9a2d90a5ddca469d6d9d6/4c221/raspi-opencv-1-2.jpg","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block;  max-width: 700px; margin-left: auto; margin-right: auto;"},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 54.42857142857142%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIFA//EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHN5SxRJgv/xAAaEAACAgMAAAAAAAAAAAAAAAAAAgESBBAT/9oACAEBAAEFAk6OPdCcpi7wWadf/8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQMBAT8BiP/EABYRAQEBAAAAAAAAAAAAAAAAAAABEf/aAAgBAgEBPwGNf//EABwQAAEEAwEAAAAAAAAAAAAAAAABAiFREBKRQf/aAAgBAQAGPwLaZo2qzzhDl6S5cf/EABsQAQACAgMAAAAAAAAAAAAAAAEAESFxEEFR/9oACAEBAAE/IWQhD0lto14YgnEqlDDohxE7eP/aAAwDAQACAAMAAAAQD9//xAAWEQADAAAAAAAAAAAAAAAAAAABECH/2gAIAQMBAT8QNJ//xAAWEQADAAAAAAAAAAAAAAAAAAABECH/2gAIAQIBAT8QKJ//xAAbEAEBAQACAwAAAAAAAAAAAAABEQAhgTFRYf/aAAgBAQABPxCsuBBB7+GTrgK1V470IOgyUToIAMOgXyKmu//Z'); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n    "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;","alt":"Screenshot of openCV detecting an object","title":"","src":"/static/1ec9b8bb3ad9a2d90a5ddca469d6d9d6/4c221/raspi-opencv-1-2.jpg","srcSet":["/static/1ec9b8bb3ad9a2d90a5ddca469d6d9d6/610c7/raspi-opencv-1-2.jpg 293w","/static/1ec9b8bb3ad9a2d90a5ddca469d6d9d6/a8060/raspi-opencv-1-2.jpg 585w","/static/1ec9b8bb3ad9a2d90a5ddca469d6d9d6/4c221/raspi-opencv-1-2.jpg 700w"],"sizes":["(max-width:","700px)","100vw,","700px"]},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"Object centroid detected"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Next, I examined the example ball tracking code and looked at how the centroids were calculated. It’s pretty simple, and the units are in pixels. It’ll be really straightforward to send these values out to the auxiliary MCU, and I’ll probably only need to use a P controller to have the robot follow an object of the correct colour. Pretty neat! So far, thanks to the great documentation available for the Pi and for OpenCV, and the ease of use of Python, it has been very straightforward to get this project rolling. I can’t wait to dig more into the processing capabilities of OpenCV more and keep experimenting."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/d4c9cfb9b09b893101166949325cfdb0/4c221/raspi-opencv-1-3.jpg","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block;  max-width: 700px; margin-left: auto; margin-right: auto;"},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 73.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMEAv/EABYBAQEBAAAAAAAAAAAAAAAAAAEAAv/aAAwDAQACEAMQAAABW584YKy1/8QAGxAAAwACAwAAAAAAAAAAAAAAAQIRAAMhIiP/2gAIAQEAAQUCNQNwokdu2tvSDP/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABcRAQADAAAAAAAAAAAAAAAAAAABITH/2gAIAQIBAT8BjVP/xAAcEAACAgIDAAAAAAAAAAAAAAAAAQIRAzEhMqH/2gAIAQEABj8COW0jsLGty8JQu0jR/8QAHBAAAwADAAMAAAAAAAAAAAAAAAERITFBUWGB/9oACAEBAAE/IVnlbeyasnUiy5fTJk7eA72kbHTQ/9oADAMBAAIAAwAAABCXD//EABYRAQEBAAAAAAAAAAAAAAAAABEBAP/aAAgBAwEBPxAWaM3/xAAXEQEBAQEAAAAAAAAAAAAAAAABEQAh/9oACAECAQE/EOKyJs3/xAAcEAACAgIDAAAAAAAAAAAAAAABEQAhMaFhcdH/2gAIAQEAAT8QBRJkFvqLByIKBBVCPL6yFzAaXucmJ16UUTaep4jP/9k='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n    "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;","alt":"Test subjects","title":"","src":"/static/d4c9cfb9b09b893101166949325cfdb0/4c221/raspi-opencv-1-3.jpg","srcSet":["/static/d4c9cfb9b09b893101166949325cfdb0/610c7/raspi-opencv-1-3.jpg 293w","/static/d4c9cfb9b09b893101166949325cfdb0/a8060/raspi-opencv-1-3.jpg 585w","/static/d4c9cfb9b09b893101166949325cfdb0/4c221/raspi-opencv-1-3.jpg 700w"],"sizes":["(max-width:","700px)","100vw,","700px"]},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"Test subjects: squishy promotional things from industry events."}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Useful Raspberry Pi Commands"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Here’s a list of commands that I use frequently when interfacing with the Pi:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Start desktop from CLI: "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"startx"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Leave Python virtual environment: "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"deactivate"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Enter Python virtual environment: "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"workon <name of environment>"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"SSH into Pi with X window forwarding: "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"ssh -X <IP address of Rpi> -l <username on Rpi>"}]}]}],"data":{"quirksMode":false}},"excerpt":"I bought a Raspberry Pi nearly a year ago, always intending to use it in OpenCV experiments. Just recently, I got around to starting the…","timeToRead":4,"frontmatter":{"title":"Getting Started With OpenCV and Raspberry Pi","userDate":"20 August 2017","date":"2017-08-20T00:00:00.000Z","tags":["openCV","camera","raspberry pi","UART","linux","embedded","Blog-post"],"image":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAQD/8QAFgEBAQEAAAAAAAAAAAAAAAAAAQAC/9oADAMBAAIQAxAAAAGDKhliDf/EABkQAAMAAwAAAAAAAAAAAAAAAAABAhESMf/aAAgBAQABBQJSkPXAy+n/xAAVEQEBAAAAAAAAAAAAAAAAAAABEP/aAAgBAwEBPwFn/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGBAAAwEBAAAAAAAAAAAAAAAAARAhMQD/2gAIAQEABj8CvQPBi//EABoQAQACAwEAAAAAAAAAAAAAAAEAERAhUaH/2gAIAQEAAT8h2A8jWwMrChUA5Mf/2gAMAwEAAgADAAAAEGAP/8QAFhEBAQEAAAAAAAAAAAAAAAAAAREQ/9oACAEDAQE/EBG5/8QAFREBAQAAAAAAAAAAAAAAAAAAARD/2gAIAQIBAT8QGf/EABoQAQEBAAMBAAAAAAAAAAAAAAERACExYVH/2gAIAQEAAT8QoUAes3LjvIuIEhPiYgMgwTm+Gd//2Q==","aspectRatio":1.8041237113402062,"src":"/static/d6ff0611eb89472cc463867050e13d5b/a7a5f/raspi-opencv-1-1.jpg","srcSet":"/static/d6ff0611eb89472cc463867050e13d5b/a7a5f/raspi-opencv-1-1.jpg 700w","sizes":"(max-width: 700px) 100vw, 700px"}}},"author":{"id":"Richard","bio":"Mechatronics Systems engineering student passionate about space, interested in high-reliability embedded systems and computer vision. Currently turning coffee into CubeSats and drones.","avatar":{"children":[{"__typename":"ImageSharp","fixed":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAIDBAX/xAAVAQEBAAAAAAAAAAAAAAAAAAABAP/aAAwDAQACEAMQAAAB589OeKWwkKgbQn//xAAbEAACAwADAAAAAAAAAAAAAAABAgASIREiMf/aAAgBAQABBQKE9YzUFt5h1V0n3//EABURAQEAAAAAAAAAAAAAAAAAAAEQ/9oACAEDAQE/ASE//8QAFREBAQAAAAAAAAAAAAAAAAAAESD/2gAIAQIBAT8BY//EABoQAAICAwAAAAAAAAAAAAAAAAABESEQIDH/2gAIAQEABj8CFHcUrJ1//8QAGhABAAMBAQEAAAAAAAAAAAAAAQARIUExEP/aAAgBAQABPyG1c2E0Ipg9xPQFJ35HtxipKNj1P//aAAwDAQACAAMAAAAQkxCD/8QAGBEAAgMAAAAAAAAAAAAAAAAAABEBECH/2gAIAQMBAT8Q0xkK/8QAGBEAAgMAAAAAAAAAAAAAAAAAAAEQEUH/2gAIAQIBAT8Qs4WiP//EABwQAQADAAMBAQAAAAAAAAAAAAEAESExQXFhkf/aAAgBAQABPxCgAp6NYEcIGjV7i+0/kFpV61wTiYFlNYhBTUGAHzHlQFSFqER9qn//2Q==","width":400,"height":400,"src":"/static/a2b7322425489e49016cd6942dbb87ef/2e811/richard.jpg","srcSet":"/static/a2b7322425489e49016cd6942dbb87ef/2e811/richard.jpg 1x"}}]}}}},"relatedPosts":{"totalCount":2,"edges":[{"node":{"id":"b95a0b8d-d3a0-5d8b-8972-6e6b040cf7b1","timeToRead":3,"excerpt":"In this second post regarding my experiments with OpenCV on the Raspberry pi, I will go over interfacing the OpenCV code with the Pi’s UART…","frontmatter":{"title":"Raspberry Pi & OpenCV - UART Communication (Part 2)"},"fields":{"slug":"/2017/08/23/raspberry-pi-opencv-uart-communication-part-2/"}}},{"node":{"id":"a54d7120-cb38-55d0-9d6a-72b5ebdd6307","timeToRead":4,"excerpt":"I bought a Raspberry Pi nearly a year ago, always intending to use it in OpenCV experiments. Just recently, I got around to starting the…","frontmatter":{"title":"Getting Started With OpenCV and Raspberry Pi"},"fields":{"slug":"/2017/08/20/getting-started-with-opencv-and-raspberry-pi/"}}}]}},"pageContext":{"slug":"/2017/08/20/getting-started-with-opencv-and-raspberry-pi/","prev":{"excerpt":"In this second post regarding my experiments with OpenCV on the Raspberry pi, I will go over interfacing the OpenCV code with the Pi’s UART…","timeToRead":3,"frontmatter":{"title":"Raspberry Pi & OpenCV - UART Communication (Part 2)","tags":["openCV","camera","raspberry pi","UART","linux","embedded","Blog-post"],"date":"2017-08-23T00:00:00.000Z","image":{"childImageSharp":{"fluid":{"aspectRatio":1.3711151736745886,"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMEAv/EABYBAQEBAAAAAAAAAAAAAAAAAAEAAv/aAAwDAQACEAMQAAABW2icMFZa/8QAGxAAAwACAwAAAAAAAAAAAAAAAQIRAAMhIiP/2gAIAQEAAQUCNQNwokdu2tvSDP/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABcRAQADAAAAAAAAAAAAAAAAAAABITH/2gAIAQIBAT8BjVP/xAAdEAACAgEFAAAAAAAAAAAAAAAAAQIRMQMhMlGh/9oACAEBAAY/AjdtI5C01mXhKF2l2YP/xAAcEAACAgIDAAAAAAAAAAAAAAABEQAxIUFRcYH/2gAIAQEAAT8hFVMk3FaSbAjhy9mTFs4Q3YS0LKT/2gAMAwEAAgADAAAAENcP/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAERMf/aAAgBAwEBPxCahVH/xAAXEQEBAQEAAAAAAAAAAAAAAAABABEh/9oACAECAQE/EONSJ2//xAAeEAEAAgIBBQAAAAAAAAAAAAABABEhQWExUXGh0f/aAAgBAQABPxAeWElc+JWHJGgjWCXm/HUZnIbe5yyn7hsKWr7anwGf/9k=","sizes":"(max-width: 1500px) 100vw, 1500px","src":"/static/f15fa1d1a24a28241d8b82bb79098cc9/d348a/raspi-opencv-2-1.jpg","srcSet":"/static/f15fa1d1a24a28241d8b82bb79098cc9/7e9f5/raspi-opencv-2-1.jpg 930w,\n/static/f15fa1d1a24a28241d8b82bb79098cc9/d348a/raspi-opencv-2-1.jpg 1500w"}}},"author":{"id":"Richard","bio":"Mechatronics Systems engineering student passionate about space, interested in high-reliability embedded systems and computer vision. Currently turning coffee into CubeSats and drones.","avatar":{"children":[{"fixed":{"src":"/static/a2b7322425489e49016cd6942dbb87ef/2e811/richard.jpg"}}]}}},"fields":{"layout":"","slug":"/2017/08/23/raspberry-pi-opencv-uart-communication-part-2/"}},"next":{"excerpt":"This tutorial covers installing and running HALCoGen for TI Hercules/TMS570 MCUs on a mac or Linux machine using WINE. I first started using…","timeToRead":3,"frontmatter":{"title":"Running HALCoGen on Mac or Linux With WINE","tags":["HALCoGEN","embedded","WINE","mac","sfusat","hercules Blog-post"],"date":"2017-02-01T00:00:00.000Z","image":{"childImageSharp":{"fluid":{"aspectRatio":1.7766497461928934,"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAADF0lEQVQozyWRe0yTVxiHP5VLhxi5FINgQYYJUfEWWqFUIVQ/QletEnQmOMXMRZzBpYmJOiaJmQbnolGDF0wEiVccTkHsABvs3LRaFOfwn/nHthgVcdoL7VcUtDw71JOcnPPm/Z3nvL/3lWblLGaOtoAFuUZy9EXoDEtYaFgqzqVoxT3HYMRUWc2iso3kGC3oS1ajk1eysNAk8rLIy+QaStAbTOQVmJCk6ASk6ESkSDXVtUdoutpN/cUu6pvtnBDnsQud1F+7T32ri+PtLk5Yd9Jo/Y5Tth5OtvxKc0cP1prDjItWI32ShKRK0BAVl0KMOh3brT/wDEP/4CjPfSFeDMJAEF75xQZe2B/Q+VkpfaXlPOm6i1tox1ZL+w2kWDURCalIEXEaEaSiSkyn6+bvjI6GGAoG6B/4j9duD8HgEP6R94T+/oemYhMXZDO9ljXYVq+gq6Ya3rj52fYL0kQ1keo0AYxPIyJ+OqqkDGzdTt6NhFAExO0L4PW4GQwovFWGcWyq4ryorurzVRxavx7H12tp0Ovh/kPabzmJmTqbiSkzkcbFpgh6MlGTp3Hd0YNPPHZ7PPj8Ch7vIMGhd1zet4/TuQU8lstoqdjI0ZJldC8y8vzK1bDltg4HqjQtUclZYigCNtbM8ZNScLp6wwJFQIJvPzboyukzbJqVTaPRjE1eTp92cRh2T3wSHA6FNZfbhOVJGsarZyBNUGeKQNieksVt10NCoQ8ofj8jQuj57TaNunwa8oqQS8x8U1DInfhkXJYyPgQCBEY+AlvtTuLy16JZViWA03QkTs8kYcYCfmrr4NGffbx0i/69F9N2PqLJXMoubS7fF5s5mF/Itzodj+/0hvOvvcEw0PFXP9oDDub/YBeW4zM4f6aO8g0bOHSkDnunjQExYZ9PQRkV0H+fcWPzVvZnz2N31kzazp5jrC63V+HpgJchAW7q7EVVvJ0YeQdS5hwNDXWbqahYgmVdJdv2HEa2HsRcewnLj61YDlyjdG8zVnMF5cYy8r/az/xV25m3chufFlWSXrSFpLwviZy7jqjsL/gfcx0zfuTBVcwAAAAASUVORK5CYII=","sizes":"(max-width: 700px) 100vw, 700px","src":"/static/5259da4feb956ce617e28ea77dbfdb62/15d58/halcogen-1.png","srcSet":"/static/5259da4feb956ce617e28ea77dbfdb62/15d58/halcogen-1.png 700w"}}},"author":{"id":"Richard","bio":"Mechatronics Systems engineering student passionate about space, interested in high-reliability embedded systems and computer vision. Currently turning coffee into CubeSats and drones.","avatar":{"children":[{"fixed":{"src":"/static/a2b7322425489e49016cd6942dbb87ef/2e811/richard.jpg"}}]}}},"fields":{"layout":"","slug":"/2017/02/01/running-hal1cogen-on-mac-or-linux-with-wine/"}},"primaryTag":"openCV"}}