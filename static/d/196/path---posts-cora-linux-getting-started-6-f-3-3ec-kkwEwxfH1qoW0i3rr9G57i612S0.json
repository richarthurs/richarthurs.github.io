{"data":{"logo":{"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAf0lEQVQI12P49++f3v///xWBmBuIOYBYigEJQMXEobQ0kpg8EDMxoAOg4HQgzgbiBCB2AeJaIHYE4jAgjgbiFCD2BWI3IG6FymUCcQWUtoWqCwKpARkYBcReQJwF1egBZdcAXQ/ix0MtAmlMB4r5AGkHIA4BskGW5kMdZALESQDh3apPUyViLgAAAABJRU5ErkJggg==","width":400,"height":64,"src":"/static/1642a962a17c5982edb23d2f20e5a8e6/51380/logo.png","srcSet":"/static/1642a962a17c5982edb23d2f20e5a8e6/51380/logo.png 1x,\n/static/1642a962a17c5982edb23d2f20e5a8e6/240c8/logo.png 1.5x,\n/static/1642a962a17c5982edb23d2f20e5a8e6/f5cf3/logo.png 2x,\n/static/1642a962a17c5982edb23d2f20e5a8e6/01d7c/logo.png 3x"}}},"markdownRemark":{"html":"<p>This post contains notes that I generated while bringing up Petalinux on my Cora Z7-10 Zynq board that I have. In the first section, I get Petalinux working and do a couple of hello world examples. It can serve as a companion to the following resources: </p>\n<ul>\n<li><a href=\"https://www.hackster.io/100311/estimating-pi-with-a-cora-z7-running-linux-03995b\">Hackster.io article</a></li>\n<li><a href=\"https://github.com/Digilent/Petalinux-Cora-Z7-10\">github repo for Cora Z7-10 Petalinux</a></li>\n</ul>\n<p>In the second section, Petalinux is built from scratch, and I implement custom AXI-compliant IP on the FPGA fabric. A Xilinx tutorial is followed (with extra notes) to write a linux device driver and an app to leverage the driver. </p>\n<p>Topics covered:</p>\n<ul>\n<li>SSH connections to the board</li>\n<li>Adapting Xilinx tutorials for different target dev boards</li>\n<li>Cross-compiling apps on the desktop and copying them to the board</li>\n<li>Petalinux build and installation notes </li>\n</ul>\n<h2>Section 1 - Petalinux Bringup</h2>\n<p>In this section I include some notes on Petalinux bringup. </p>\n<h3>Petalinux Install</h3>\n<p>I was not able to execute the petalinux installer from my root account, I had to make a new user, chmod +w the installation directory from the new user, and then run the installation script.<br>\n<a href=\"https://github.com/Digilent/Petalinux-Cora-Z7-10\">github repo for Cora Z7-10</a></p>\n<p>I also added the source petalinux script call to the bottom of my .cshrc file so it will be sourced every time I make a new terminal. You could also make it an alias, since the command takes a couple of seconds to run, which is annoying when you want to bring up a new terminal quickly.  </p>\n<h3>SD Card Partitioning</h3>\n<p>I partitioned my SD card with the following partitions:</p>\n<ul>\n<li>Name: fpga, format: FAT, size: 1 GB</li>\n<li>Name: bulk, format: EXT4, size: 7 GB</li>\n</ul>\n<h3>Go App</h3>\n<p>These notes accompany the <a href=\"https://www.hackster.io/100311/estimating-pi-with-a-cora-z7-running-linux-03995b\">Hackster.io article</a>. I thought it would be interesting to write the first example in go, so I tried it out. Once I understood the flow, I went back to writing things in C. </p>\n<ul>\n<li>Make a new folder with <code class=\"language-text\">main.go</code> inside it. Note that the final executable will have the same name as this directory. </li>\n<li><code class=\"language-text\">cd</code> into the directory you placed <code class=\"language-text\">main.go</code> in. </li>\n<li>Run this command to compile: <code class=\"language-text\">GOARCH=arm go build</code></li>\n<li>An executable will be generated with the name of the current directory. </li>\n<li>Copy it into the “bulk” partition on the SD card. </li>\n</ul>\n<h3>Petalinux Bringup</h3>\n<p>I used a pre-built Petalinux image from Digilent. As I learned later, this was a good call. Building Petalinux takes about an hour for me, so using the pre-compiled package made the process much quicker for an initial bringup. </p>\n<ul>\n<li>Download the <a href=\"https://github.com/Digilent/Petalinux-Cora-Z7-10/releases/\">board support package from github</a>, then place it in a directory called bsp somewhere. </li>\n<li>Make a new directory to contain the petalinux project and cd into it. </li>\n<li>Run the following command to generate the project: <code class=\"language-text\">petalinux-create -t project -s &lt;path to .bsp file&gt;</code></li>\n<li>As per the instructions, I copied the boot files onto the first partition of my microSD card and made the MAC address file. The MAC address on the board sticker needs a colon between every set of 2 characters in the file.  </li>\n<li>Plug in the SD card to the Cora, short jumper JP2.</li>\n<li>Connected a terminal to /dev/ttyUSB1 at 115200 baud, 8-N-1. </li>\n<li>Press SRST. I was soon greeted with a <code class=\"language-text\">Zynq:</code> prompt, which has several low-level commands that you can see by entering <code class=\"language-text\">help</code>. It was proving difficult to navigate and enter commands in this mode. I was getting filesystem configuration errors. So I cycled power and SRST. I was greeted with a <code class=\"language-text\">root@Cora-Z7-10:</code> prompt. Great, it’s working! In this mode, commands like <code class=\"language-text\">ls</code> work without error. </li>\n<li>The bulk of my filesystem is on a 2nd partition of the SD card, which is also where I placed the demo go app executable. </li>\n<li>Enter the following commands to mount to the partition:\n<code class=\"language-text\">mkdir SDFS</code>\n<code class=\"language-text\">mount /dev/mmcblk0p2 ./SDFS</code><br>\n<code class=\"language-text\">cd SDFS</code></li>\n<li>Now you can run the go app executable as usual: <code class=\"language-text\">./test-app</code></li>\n<li>There was an issue with the demo app where it was set to run a <em>huge</em> number of iterations, so the app appears to do nothing after the initial print. Whoops. Don’t believe everything you see on the internet. However, the print worked, so at least we know the app worked. </li>\n</ul>\n<h3>C Hello World</h3>\n<p>GCC is installed under petalinux, so may as well make an app in C and check that it works too. </p>\n<p>Still in the SDFS directory, I wrote a hello world file in c:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">// hello.c\n#include &lt;stdio.h&gt;\n\nint main(){\n    printf(&quot;Hello, world!\\n&quot;);\n    return 0;\n}</code></pre></div>\n<p>Note that you’ll need to use vim to write the code since the only interface is a command prompt over a UART. I discuss writing apps on the PC and transferring them over a couple sections down in this article. </p>\n<p>Compile it with: <code class=\"language-text\">gcc hello.c</code>.</p>\n<p>Run it with: <code class=\"language-text\">./a.out</code>.</p>\n<h3>SSH</h3>\n<p>Let’s SSH into the board so that files can be edited and compiled on the desktop, and then executables copied over over Ethernet. </p>\n<ul>\n<li>Plug the board into your router with an Ethernet cable. </li>\n<li>You should see a “link up” message soonafter</li>\n<li>On the terminal connected over the UART, run <code class=\"language-text\">ifconfig</code></li>\n<li>The first <code class=\"language-text\">inet addr</code> is the ip address of the board, 192.168.1.69 for me. I will use this address throughout this article. If you’re following along, always replace it with the IP address your board is given. </li>\n</ul>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1b4f7e4c7293d172ee38c958bb7df956/fa7b5/ifconfig.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 830px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 60.48192771084337%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsSAAALEgHS3X78AAABSElEQVQoz31Si0oDMRDM5XWXd67xM6zQq6BIrbalgv//Q85uhINSHcLebHLJ7E4ivg/Px+Pb9fJx+jx8XU+X8/F8ekd8fVmW3eN+edov29+x2y7rwNJWaDsOYgCMseM4TtPkvNdaI0WOSMQSV1IJwrBGJSWiMSaEkGL0DHDnXIwhxgiCFHOYzynxqk8pQUYoRecprekn71nZdfieMkFRlLoJRZEuQ3Sgrlrnh9ZqraWUea4Zn1paaxABKbWC1HkmwRsYo0OIKJsr9BHlBR8iuDPcNJShOY5EerErYBD1h73cWz+iR7aNoBkg6+bOpJQ4nYftUmgVS1JJMYg/Ibvb1lJLpZKfgYAuu/k4S/wPXGfOuW02ZA/5U2BBa5tOUopola/b3ttsDCsXVg25ZIo5TwzwfoUgt26xYdrx8+iPjB+a6w4rxt16fwClCx2oSIjQRAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"ifconfig output\"\n        title=\"\"\n        src=\"/static/1b4f7e4c7293d172ee38c958bb7df956/fa7b5/ifconfig.png\"\n        srcset=\"/static/1b4f7e4c7293d172ee38c958bb7df956/60c5b/ifconfig.png 293w,\n/static/1b4f7e4c7293d172ee38c958bb7df956/7c836/ifconfig.png 585w,\n/static/1b4f7e4c7293d172ee38c958bb7df956/fa7b5/ifconfig.png 830w\"\n        sizes=\"(max-width: 830px) 100vw, 830px\"\n      />\n  </span>\n  </a>\n<em>Above: output from <code class=\"language-text\">ifconfig</code> command</em></p>\n<ul>\n<li>On the PC in a new terminal, SSH into the board using the following command: <code class=\"language-text\">ssh root@192.168.1.69</code> (replacing with the IP address you just determined).</li>\n<li>You will be prompted for a password, it was <code class=\"language-text\">root</code> for me. </li>\n</ul>\n<p>By now, you should see a command prompt appear for the board. SSH success! Use the <code class=\"language-text\">logout</code> command to close the SSH connection when you’re done.</p>\n<h3>SSH and Cross-compile Flow</h3>\n<p>Now let’s test out a more reasonable development flow where we write an app on the PC, cross-compile it there, then copy the executable to the device over ssh. </p>\n<ol>\n<li>Make a new directory on your PC called <code class=\"language-text\">zynq-apps</code></li>\n<li>Inside, make an app project directory <code class=\"language-text\">hello-world</code></li>\n<li>Inside the <code class=\"language-text\">hello-world</code> directory, add the following makefile:</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"make\"><pre class=\"language-make\"><code class=\"language-make\"># Cross compiler prefix: https://xilinx-wiki.atlassian.net/wiki/spaces/A/pages/18842547/Install+Xilinx+Tools#InstallXilinxTools-XilinxVivadoandPetaLinuxTools \n# many existing tutorials are not updated for Vivado\n\nCC = arm-linux-gnueabihf-gcc\nCFLAGS = -lm\n\nall : hello-world\n\nhello-world : hello-world.o\n    ${CC} ${CFLAGS} $^ -o $@\n\nclean :\n    rm -rfv *.o\n    rm -rf hello-world\n\nuplink:\n    # this target will upload the executable to the board. Change to an IP address assigned to your board. \n    scp hello-world root@192.168.1.69:\n    \n\n.PHONY : clean</code></pre></div>\n<ol start=\"4\">\n<li>Add the hello-world.c code from above, or add something more complex. </li>\n<li>Make the app with <code class=\"language-text\">make</code></li>\n<li>Upload the app to the board using the <code class=\"language-text\">uplink</code> target with this command: <code class=\"language-text\">make uplink</code>. This will use <code class=\"language-text\">scp</code> to copy the executable over to the board. You will need to enter the password <code class=\"language-text\">root</code> when you run this command. </li>\n<li>SSH into the board again: <code class=\"language-text\">ssh root@192.168.1.69</code></li>\n<li>The hello-world app was copied into the root directory, so it can be executed with the following command: <code class=\"language-text\">./hello-world</code></li>\n</ol>\n<h2>Section 2: Connecting the ARM Cores and FPGA</h2>\n<p>The best tutorial I found for connecting the ARM cores and FPGA is <a href=\"https://www.xilinx.com/support/documentation/sw_manuals/xilinx2018_2/ug1165-zynq-embedded-design-tutorial.pdf\">this one</a> from Xilinx. In this section, I include some notes for section 7 of the linked document, as I had to modify the process slightly to work with the Cora board. </p>\n<p>The tutorial walks you through building an AXI-controlled IP block, adding a device driver to the petalinux build, and writing and running an application that uses the petalinux device driver. </p>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/8ae1fb7bfb6f1258af7261de8063b118/5cf5b/block-diagram.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 1170px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 42.72727272727273%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsSAAALEgHS3X78AAABLElEQVQoz41Q127DMAz0/39bgQAZTRo5w7bioeEhUVu2K6OP6UMOBEEceMTxMuOCVIb24yBAu2B98BsiKNUPo9bGh7gsy/ofsiMqUEWa0eaYHXJc1kRIfUB1SSQRjspoXViWedt9O5GhokGYlVTuUXW6vS7oefq5777v96YnMlRMsVEr4/mk+ARCe22cUtpaG2PMQohSOwF2Aps8xnk+nPPjtbwUXScChTlp0LPe5zgdKpkifAQAY8wmdnGdwLBB9FPiPGiPHnVDhqrti5q/yEDZYKyfwI3CpB7ibH3KIWy207fNZAsiKq4Rpl8XvDvXr3bsmEzVUtEQkQbC4a8aKm9lzTlPKWaYa8xN0Qncm/Oz3V8rPsj1M2RhXsEEMFGozbPzcf0Y2Tu1fCz+BUvyAwPI2PmWAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"Block Diagram\"\n        title=\"\"\n        src=\"/static/8ae1fb7bfb6f1258af7261de8063b118/a66a3/block-diagram.png\"\n        srcset=\"/static/8ae1fb7bfb6f1258af7261de8063b118/65e34/block-diagram.png 293w,\n/static/8ae1fb7bfb6f1258af7261de8063b118/8d594/block-diagram.png 585w,\n/static/8ae1fb7bfb6f1258af7261de8063b118/a66a3/block-diagram.png 1170w,\n/static/8ae1fb7bfb6f1258af7261de8063b118/5cf5b/block-diagram.png 1210w\"\n        sizes=\"(max-width: 1170px) 100vw, 1170px\"\n      />\n  </span>\n  </a>\n<em>Above: the block diagram for the system that will be created.</em></p>\n<h3>Prerequisites</h3>\n<p>You should already have the Digilent board files installed, and you should be able to create a simple RTL project and load the bitstream on to the Cora board from Vivado. You should also be familiar with the Petalinux procedure discussed above, as it is used in this part too. </p>\n<hr>\n<h3>Writing HW Drivers</h3>\n<p>These notes correspond to the <strong>Creating Peripheral IP section of the tutorial linked above</strong>. </p>\n<ol>\n<li>Create a new vivado project and select the Cora board. This assumes that you’ve got the Digilent board descriptions installed. </li>\n<li>In the IP integrator, create a new block design. Add the Zynq PS IP to it. </li>\n<li>Double click the Zynq block, in the re-customize IP window, click Import XPS settings. </li>\n<li>Navigate to <code class=\"language-text\">vivado-boards-master/new/board_files/cora-z7-10/B.0</code> and select <code class=\"language-text\">preset.xml</code>. Click OK. </li>\n</ol>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/884d2ea11bafd8336c6fbbb83e7ef962/cc7d9/specify-file.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 1170px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 65.65096952908587%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsSAAALEgHS3X78AAAB2klEQVQoz31S2W6jMBTl/39jpMmo2clGlr7M80ijVpq0gbKGJEBsMGAwxixzSzTLQ9OjY+vo+l77LpZede9gBpqDX4zgYKG97h+sKwigat+I/6d5Thw/u1FCGBcsd2xjJk/XynK5kNfK4nG33m2V7Wa5Wa+2GwX0brt63CrLxcTU1bZtm6Zq21pKUxqFhMRpFEYYR2EY5VmOcQiac942oqoE52Vd103bVhXnRd6A6iCxotDVN9MwVVW1Ldt2zP3+1+nkepeL73vff1gv2tF14MByju6b7rjuOSIkDMOMUgldr5vlbDGXh8P+eDzqj3oP/d58NpvDmsnf+uPReCLLk+l0PJ/Lo9FgMOwPBg+9r19WykoyDEMzT1dERNXwsirLRoh3caMQdQlGUdOce56PriiKIoxQEifniycdHcc5R5RV7R00XYk0Y5qqk4iwPM+yrCiKIAggbZxS1jl9GkzZ089n27SPjpskiRCiC8Y46YI/fznLC9OwYCIlFNZZEEKSZVlxQv863QPUX/9x+BdsmHacZre04fhDAhgXpYCZvwNyBv8ubYR9HxGSxjFlrGTFx8wZp5SmaZokKctp21S+70uEELgDhg5/CjpB7wOaDFvJ8ycNPWvB6Wj/BnGpy/uT8Rj+AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"XPS settings\"\n        title=\"\"\n        src=\"/static/884d2ea11bafd8336c6fbbb83e7ef962/a66a3/specify-file.png\"\n        srcset=\"/static/884d2ea11bafd8336c6fbbb83e7ef962/65e34/specify-file.png 293w,\n/static/884d2ea11bafd8336c6fbbb83e7ef962/8d594/specify-file.png 585w,\n/static/884d2ea11bafd8336c6fbbb83e7ef962/a66a3/specify-file.png 1170w,\n/static/884d2ea11bafd8336c6fbbb83e7ef962/cc7d9/specify-file.png 1444w\"\n        sizes=\"(max-width: 1170px) 100vw, 1170px\"\n      />\n  </span>\n  </a>\n<em>Above: setting up the XPS settings for the ARM processing subsystem.</em></p>\n<p>This file comes from the <code class=\"language-text\">vivado-boards</code> repo from Digilent and allows the Zynq to be configured with all of the other hardware on the board. </p>\n<ol start=\"5\">\n<li>Run block automation. </li>\n<li>Connect the clocks (fig 2-8 in the tutorial). I get some warnings about negative clock skew. This is a known issue and can be ignored, apparently. </li>\n<li>Continue until step 10 of the <strong>Integrating Peripheral IP with PS GP Master Port</strong> section where the LED port settings are configured. </li>\n<li>Search for “leds” in the port list of the elaborated design. Refer to the Cora reference manual and set the Package pin for each bit of the led port. Set the IO standard to <code class=\"language-text\">LVCMOS33</code>.</li>\n</ol>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d768e6edc3e53e3dea91b398fe71032b/be9be/led-config.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 1170px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 56.927223719676554%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAABR0lEQVQoz6WS62rDMAyF8/4P1VEYDAaDwe6k69qtzVLHcXzPpUnOZKejfzZ2qeDDkq0oR7aS+fwcs9kZLi6vcHWb4vruBTePa6SrHRavBRZr9i0p8bDY4j7d4mmZY7kRSErOwfJ3ZLsSz6sMRalQVgY5q8C4AhcGnGIu9LQeKKWlPBtzo0+EnIQLC+P2FCgwxmGMg6+buAas9THW2kBKHffynFFsIZWGUiYSzqpKIQkq3jYMeSFR6RamHmCbEa7FRBMYYesR0vXQdC5NCx1839P+EL8JviZhifceXdPA1S3GccRk4xf8zhKtNZx10NRa3w9TOSr8XxIhBLJNhoruYTgoPCr9uyU1XXixY+ClxGedkwp6X0OUApJebRjGk9qNLTvnYWgknG9wgrCjQqUUdJgnUhhmy9IDhZ84/wMuzGeNbr9H1x35APOJVZWonVqsAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"XPS settings\"\n        title=\"\"\n        src=\"/static/d768e6edc3e53e3dea91b398fe71032b/a66a3/led-config.png\"\n        srcset=\"/static/d768e6edc3e53e3dea91b398fe71032b/65e34/led-config.png 293w,\n/static/d768e6edc3e53e3dea91b398fe71032b/8d594/led-config.png 585w,\n/static/d768e6edc3e53e3dea91b398fe71032b/a66a3/led-config.png 1170w,\n/static/d768e6edc3e53e3dea91b398fe71032b/59785/led-config.png 1755w,\n/static/d768e6edc3e53e3dea91b398fe71032b/be9be/led-config.png 1855w\"\n        sizes=\"(max-width: 1170px) 100vw, 1170px\"\n      />\n  </span>\n  </a></p>\n<ol start=\"9\">\n<li>As per the tutorial, open up SDK. </li>\n</ol>\n<h4>Petalinux Driver Setup</h4>\n<ol>\n<li>Execute the petalinux module creation commands in the <strong>Device Driver Development</strong> section. </li>\n<li>Copy the provided blink.c and blink.h files into project-spec/meta-user/recipes-modules/blink/files and update the .bb file. Don’t forget the trailing slash in the bb file, or the build process will throw an error. </li>\n<li>Run the command <code class=\"language-text\">petalinux-build</code>, not <code class=\"language-text\">petalinux build</code> as stated in the tutorial. </li>\n<li>Time for coffee! The build process took quite a while on my i5 machine, approximately an hour. It includes some very large file downloads - I guess this is where the 100 GB (!) free space requirement comes from. </li>\n<li>Generate the boot image from the command in the cora <a href=\"https://github.com/Digilent/Petalinux-Cora-Z7-10\">petalinux repo</a>: <code class=\"language-text\">petalinux-package --boot --force --fsbl images/linux/zynq_fsbl.elf --fpga images/linux/cora_z7_10_wrapper.bit --u-boot</code></li>\n<li>As described in the repo readme above, copy the newly generated image onto the SD card in the correct location. </li>\n<li>Insert the SD card into the board. </li>\n</ol>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/4e253fa7ec14a20600342f42723808e4/7989f/blinky-1.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 1170px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 58.80000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAwACBP/EABUBAQEAAAAAAAAAAAAAAAAAAAID/9oADAMBAAIQAxAAAAHhIHVAsxP/xAAaEAACAgMAAAAAAAAAAAAAAAABAgADEBEh/9oACAEBAAEFAjYGRmwDqOez/8QAFxEBAAMAAAAAAAAAAAAAAAAAAAERMf/aAAgBAwEBPwGMW//EABYRAQEBAAAAAAAAAAAAAAAAAAARQf/aAAgBAgEBPwHKr//EABsQAAEEAwAAAAAAAAAAAAAAAAEAAxARITFB/9oACAEBAAY/AmxmwKXZ0I//xAAZEAADAQEBAAAAAAAAAAAAAAAAAREhMVH/2gAIAQEAAT8hTfphHNT0o5k0ZoiqjP/aAAwDAQACAAMAAAAQ6/8A/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAERMf/aAAgBAwEBPxBtUs//xAAXEQEBAQEAAAAAAAAAAAAAAAABABFR/9oACAECAQE/EAVcWr//xAAZEAEAAwEBAAAAAAAAAAAAAAABABExIYH/2gAIAQEAAT8QCM8wG25LFhtcMe8gsC50uECaKod9YrbTrP/Z'); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"LED App\"\n        title=\"\"\n        src=\"/static/4e253fa7ec14a20600342f42723808e4/27561/blinky-1.jpg\"\n        srcset=\"/static/4e253fa7ec14a20600342f42723808e4/06456/blinky-1.jpg 293w,\n/static/4e253fa7ec14a20600342f42723808e4/4b3e4/blinky-1.jpg 585w,\n/static/4e253fa7ec14a20600342f42723808e4/27561/blinky-1.jpg 1170w,\n/static/4e253fa7ec14a20600342f42723808e4/278c2/blinky-1.jpg 1755w,\n/static/4e253fa7ec14a20600342f42723808e4/7989f/blinky-1.jpg 2000w\"\n        sizes=\"(max-width: 1170px) 100vw, 1170px\"\n      />\n  </span>\n  </a>\n<em>Above: a preview of the working blinky app</em></p>\n<h4>SDK and FPGA Programming</h4>\n<p>These notes are for the <strong>Example Project: Loading a Module into Kernel and Executing\nthe Application</strong> section. </p>\n<ol>\n<li>Open SDK, skip the TCF agent on the host machine step. I won’t be using the debugger right now. </li>\n<li>Make a new SDK project, set Linux as the OS in the wizard. I skipped the toolchain and system root configurations because the directories in the tooltips were not present on my system.  </li>\n<li>Import the <code class=\"language-text\">blink.h</code> and <code class=\"language-text\">linux_blinkled_app.c</code> file from the <code class=\"language-text\">LKM_App</code> directory in the example code download from the Xilinx tutorial. Delete the <code class=\"language-text\">helloworld.c</code> file that’s included by default. It should automatically build without errors. The .elf file generated by SDK will be copied over to the board in a later step. </li>\n<li>Program the FPGA with <code class=\"language-text\">Xilinx &gt; Program FPGA</code>. The board was auto-detected for me. </li>\n</ol>\n<h4>Testing out the Device</h4>\n<p>Now that everything is built and programmed, let’s try to run the app and communicate to custom hardware from a Linux device driver!</p>\n<ul>\n<li>With the new linux image set, cycle power and connect up to the serial port. </li>\n<li>Run the <code class=\"language-text\">mknod</code> commands on the board as described in the tutorial. </li>\n<li>Create a directory <code class=\"language-text\">/Apps</code></li>\n</ul>\n<p>I decided to skip using the Xilinx tools for navigating on the device, and do it through SSH/the UART connection instead. </p>\n<ul>\n<li>scp the <code class=\"language-text\">.elf</code> file from <code class=\"language-text\">.sdk/linux-blinkled-app/Debug/linux-blinkled-app.elf</code> from the PC onto the board in the <code class=\"language-text\">/Apps</code> directory using the following command on the PC: <code class=\"language-text\">scp &lt;path to elf file&gt; root@192.168.1.69:</code></li>\n</ul>\n<p>I had to remove the old SSH key stored for this IP address, since it changed when petalinux was rebuilt. Then I SSH’d into the board again.</p>\n<p>I moved the .elf file into the Apps directory I made earlier, chmod +777’d it as is done in the tutorial, and executed. To my great surprise, the example fired right up and lights started blinking!</p>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/9372cc92bbf5a88c049d7549f7f9443f/7989f/blinky-2.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 1170px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 75.64999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIDBP/EABYBAQEBAAAAAAAAAAAAAAAAAAMCBP/aAAwDAQACEAMQAAABzyi2lYihT//EABsQAAMAAgMAAAAAAAAAAAAAAAACAwEEEBES/9oACAEBAAEFAsbFKDWY7Jv5GfDcf//EABcRAAMBAAAAAAAAAAAAAAAAAAABESH/2gAIAQMBAT8ByFZ//8QAFxEAAwEAAAAAAAAAAAAAAAAAAAEREv/aAAgBAgEBPwGRU2z/xAAcEAABBAMBAAAAAAAAAAAAAAABAAIQUREhgTL/2gAIAQEABj8CyQzoXlvBFiloR//EABsQAQACAgMAAAAAAAAAAAAAAAEAESFhEDFR/9oACAEBAAE/IUlSiLOzrRwv5NiKoB4TE//aAAwDAQACAAMAAAAQlD//xAAYEQACAwAAAAAAAAAAAAAAAAAAASExYf/aAAgBAwEBPxBJLSbH/8QAFhEBAQEAAAAAAAAAAAAAAAAAAEFh/9oACAECAQE/EKTR/8QAHxABAAIBAwUAAAAAAAAAAAAAAQARITFBUWFxgcHh/9oACAEBAAE/EBIFCij0mGzAv0Yp4jDVbbofIyF1BcG+d/MUNAvdn//Z'); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"Blinking LEDs\"\n        title=\"\"\n        src=\"/static/9372cc92bbf5a88c049d7549f7f9443f/27561/blinky-2.jpg\"\n        srcset=\"/static/9372cc92bbf5a88c049d7549f7f9443f/06456/blinky-2.jpg 293w,\n/static/9372cc92bbf5a88c049d7549f7f9443f/4b3e4/blinky-2.jpg 585w,\n/static/9372cc92bbf5a88c049d7549f7f9443f/27561/blinky-2.jpg 1170w,\n/static/9372cc92bbf5a88c049d7549f7f9443f/278c2/blinky-2.jpg 1755w,\n/static/9372cc92bbf5a88c049d7549f7f9443f/7989f/blinky-2.jpg 2000w\"\n        sizes=\"(max-width: 1170px) 100vw, 1170px\"\n      />\n  </span>\n  </a>\n<em>Above: blinking LEDs controlled by an AXI-enabled peripheral from a Petalinux device driver.</em></p>\n<p>To recap, from scratch, we did the following:</p>\n<ul>\n<li>built Petalinux</li>\n<li>installed a custom device driver</li>\n<li>implemented an AXI-compliant IP block and hooked it up to the Zynq processing system</li>\n<li>implemented and built an app to use the driver to interface to the custom IP</li>\n<li>learned the build flows, practiced communicating with the target board</li>\n</ul>\n<p>That’s pretty good! All of the building blocks of a really interesting project are in place now. It’s time to look at the example code and examine how it can be used to bootstrap a more complex application and more complex custom IP. </p>","htmlAst":{"type":"root","children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This post contains notes that I generated while bringing up Petalinux on my Cora Z7-10 Zynq board that I have. In the first section, I get Petalinux working and do a couple of hello world examples. It can serve as a companion to the following resources: "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://www.hackster.io/100311/estimating-pi-with-a-cora-z7-running-linux-03995b"},"children":[{"type":"text","value":"Hackster.io article"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://github.com/Digilent/Petalinux-Cora-Z7-10"},"children":[{"type":"text","value":"github repo for Cora Z7-10 Petalinux"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In the second section, Petalinux is built from scratch, and I implement custom AXI-compliant IP on the FPGA fabric. A Xilinx tutorial is followed (with extra notes) to write a linux device driver and an app to leverage the driver. "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Topics covered:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"SSH connections to the board"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Adapting Xilinx tutorials for different target dev boards"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Cross-compiling apps on the desktop and copying them to the board"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Petalinux build and installation notes "}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Section 1 - Petalinux Bringup"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In this section I include some notes on Petalinux bringup. "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Petalinux Install"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"I was not able to execute the petalinux installer from my root account, I had to make a new user, chmod +w the installation directory from the new user, and then run the installation script."},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"a","properties":{"href":"https://github.com/Digilent/Petalinux-Cora-Z7-10"},"children":[{"type":"text","value":"github repo for Cora Z7-10"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"I also added the source petalinux script call to the bottom of my .cshrc file so it will be sourced every time I make a new terminal. You could also make it an alias, since the command takes a couple of seconds to run, which is annoying when you want to bring up a new terminal quickly.  "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"SD Card Partitioning"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"I partitioned my SD card with the following partitions:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Name: fpga, format: FAT, size: 1 GB"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Name: bulk, format: EXT4, size: 7 GB"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Go App"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"These notes accompany the "},{"type":"element","tagName":"a","properties":{"href":"https://www.hackster.io/100311/estimating-pi-with-a-cora-z7-running-linux-03995b"},"children":[{"type":"text","value":"Hackster.io article"}]},{"type":"text","value":". I thought it would be interesting to write the first example in go, so I tried it out. Once I understood the flow, I went back to writing things in C. "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Make a new folder with "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"main.go"}]},{"type":"text","value":" inside it. Note that the final executable will have the same name as this directory. "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"cd"}]},{"type":"text","value":" into the directory you placed "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"main.go"}]},{"type":"text","value":" in. "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Run this command to compile: "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"GOARCH=arm go build"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"An executable will be generated with the name of the current directory. "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Copy it into the “bulk” partition on the SD card. "}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Petalinux Bringup"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"I used a pre-built Petalinux image from Digilent. As I learned later, this was a good call. Building Petalinux takes about an hour for me, so using the pre-compiled package made the process much quicker for an initial bringup. "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Download the "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/Digilent/Petalinux-Cora-Z7-10/releases/"},"children":[{"type":"text","value":"board support package from github"}]},{"type":"text","value":", then place it in a directory called bsp somewhere. "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Make a new directory to contain the petalinux project and cd into it. "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Run the following command to generate the project: "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"petalinux-create -t project -s <path to .bsp file>"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"As per the instructions, I copied the boot files onto the first partition of my microSD card and made the MAC address file. The MAC address on the board sticker needs a colon between every set of 2 characters in the file.  "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Plug in the SD card to the Cora, short jumper JP2."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Connected a terminal to /dev/ttyUSB1 at 115200 baud, 8-N-1. "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Press SRST. I was soon greeted with a "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Zynq:"}]},{"type":"text","value":" prompt, which has several low-level commands that you can see by entering "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"help"}]},{"type":"text","value":". It was proving difficult to navigate and enter commands in this mode. I was getting filesystem configuration errors. So I cycled power and SRST. I was greeted with a "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"root@Cora-Z7-10:"}]},{"type":"text","value":" prompt. Great, it’s working! In this mode, commands like "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"ls"}]},{"type":"text","value":" work without error. "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"The bulk of my filesystem is on a 2nd partition of the SD card, which is also where I placed the demo go app executable. "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Enter the following commands to mount to the partition:\n"},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"mkdir SDFS"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"mount /dev/mmcblk0p2 ./SDFS"}]},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"cd SDFS"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Now you can run the go app executable as usual: "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"./test-app"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"There was an issue with the demo app where it was set to run a "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"huge"}]},{"type":"text","value":" number of iterations, so the app appears to do nothing after the initial print. Whoops. Don’t believe everything you see on the internet. However, the print worked, so at least we know the app worked. "}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"C Hello World"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"GCC is installed under petalinux, so may as well make an app in C and check that it works too. "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Still in the SDFS directory, I wrote a hello world file in c:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"// hello.c\n#include <stdio.h>\n\nint main(){\n    printf(\"Hello, world!\\n\");\n    return 0;\n}"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Note that you’ll need to use vim to write the code since the only interface is a command prompt over a UART. I discuss writing apps on the PC and transferring them over a couple sections down in this article. "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Compile it with: "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"gcc hello.c"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Run it with: "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"./a.out"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"SSH"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Let’s SSH into the board so that files can be edited and compiled on the desktop, and then executables copied over over Ethernet. "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Plug the board into your router with an Ethernet cable. "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"You should see a “link up” message soonafter"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"On the terminal connected over the UART, run "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"ifconfig"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"The first "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"inet addr"}]},{"type":"text","value":" is the ip address of the board, 192.168.1.69 for me. I will use this address throughout this article. If you’re following along, always replace it with the IP address your board is given. "}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/1b4f7e4c7293d172ee38c958bb7df956/fa7b5/ifconfig.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block;  max-width: 830px; margin-left: auto; margin-right: auto;"},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 60.48192771084337%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsSAAALEgHS3X78AAABSElEQVQoz31Si0oDMRDM5XWXd67xM6zQq6BIrbalgv//Q85uhINSHcLebHLJ7E4ivg/Px+Pb9fJx+jx8XU+X8/F8ekd8fVmW3eN+edov29+x2y7rwNJWaDsOYgCMseM4TtPkvNdaI0WOSMQSV1IJwrBGJSWiMSaEkGL0DHDnXIwhxgiCFHOYzynxqk8pQUYoRecprekn71nZdfieMkFRlLoJRZEuQ3Sgrlrnh9ZqraWUea4Zn1paaxABKbWC1HkmwRsYo0OIKJsr9BHlBR8iuDPcNJShOY5EerErYBD1h73cWz+iR7aNoBkg6+bOpJQ4nYftUmgVS1JJMYg/Ibvb1lJLpZKfgYAuu/k4S/wPXGfOuW02ZA/5U2BBa5tOUopola/b3ttsDCsXVg25ZIo5TwzwfoUgt26xYdrx8+iPjB+a6w4rxt16fwClCx2oSIjQRAAAAABJRU5ErkJggg=='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n    "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;","alt":"ifconfig output","title":"","src":"/static/1b4f7e4c7293d172ee38c958bb7df956/fa7b5/ifconfig.png","srcSet":["/static/1b4f7e4c7293d172ee38c958bb7df956/60c5b/ifconfig.png 293w","/static/1b4f7e4c7293d172ee38c958bb7df956/7c836/ifconfig.png 585w","/static/1b4f7e4c7293d172ee38c958bb7df956/fa7b5/ifconfig.png 830w"],"sizes":["(max-width:","830px)","100vw,","830px"]},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"Above: output from "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"ifconfig"}]},{"type":"text","value":" command"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"On the PC in a new terminal, SSH into the board using the following command: "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"ssh root@192.168.1.69"}]},{"type":"text","value":" (replacing with the IP address you just determined)."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"You will be prompted for a password, it was "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"root"}]},{"type":"text","value":" for me. "}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"By now, you should see a command prompt appear for the board. SSH success! Use the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"logout"}]},{"type":"text","value":" command to close the SSH connection when you’re done."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"SSH and Cross-compile Flow"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Now let’s test out a more reasonable development flow where we write an app on the PC, cross-compile it there, then copy the executable to the device over ssh. "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Make a new directory on your PC called "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"zynq-apps"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Inside, make an app project directory "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"hello-world"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Inside the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"hello-world"}]},{"type":"text","value":" directory, add the following makefile:"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"make"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-make"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-make"]},"children":[{"type":"text","value":"# Cross compiler prefix: https://xilinx-wiki.atlassian.net/wiki/spaces/A/pages/18842547/Install+Xilinx+Tools#InstallXilinxTools-XilinxVivadoandPetaLinuxTools \n# many existing tutorials are not updated for Vivado\n\nCC = arm-linux-gnueabihf-gcc\nCFLAGS = -lm\n\nall : hello-world\n\nhello-world : hello-world.o\n    ${CC} ${CFLAGS} $^ -o $@\n\nclean :\n    rm -rfv *.o\n    rm -rf hello-world\n\nuplink:\n    # this target will upload the executable to the board. Change to an IP address assigned to your board. \n    scp hello-world root@192.168.1.69:\n    \n\n.PHONY : clean"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{"start":4},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Add the hello-world.c code from above, or add something more complex. "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Make the app with "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"make"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Upload the app to the board using the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"uplink"}]},{"type":"text","value":" target with this command: "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"make uplink"}]},{"type":"text","value":". This will use "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"scp"}]},{"type":"text","value":" to copy the executable over to the board. You will need to enter the password "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"root"}]},{"type":"text","value":" when you run this command. "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"SSH into the board again: "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"ssh root@192.168.1.69"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"The hello-world app was copied into the root directory, so it can be executed with the following command: "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"./hello-world"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Section 2: Connecting the ARM Cores and FPGA"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The best tutorial I found for connecting the ARM cores and FPGA is "},{"type":"element","tagName":"a","properties":{"href":"https://www.xilinx.com/support/documentation/sw_manuals/xilinx2018_2/ug1165-zynq-embedded-design-tutorial.pdf"},"children":[{"type":"text","value":"this one"}]},{"type":"text","value":" from Xilinx. In this section, I include some notes for section 7 of the linked document, as I had to modify the process slightly to work with the Cora board. "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The tutorial walks you through building an AXI-controlled IP block, adding a device driver to the petalinux build, and writing and running an application that uses the petalinux device driver. "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/8ae1fb7bfb6f1258af7261de8063b118/5cf5b/block-diagram.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block;  max-width: 1170px; margin-left: auto; margin-right: auto;"},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 42.72727272727273%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsSAAALEgHS3X78AAABLElEQVQoz41Q127DMAz0/39bgQAZTRo5w7bioeEhUVu2K6OP6UMOBEEceMTxMuOCVIb24yBAu2B98BsiKNUPo9bGh7gsy/ofsiMqUEWa0eaYHXJc1kRIfUB1SSQRjspoXViWedt9O5GhokGYlVTuUXW6vS7oefq5777v96YnMlRMsVEr4/mk+ARCe22cUtpaG2PMQohSOwF2Aps8xnk+nPPjtbwUXScChTlp0LPe5zgdKpkifAQAY8wmdnGdwLBB9FPiPGiPHnVDhqrti5q/yEDZYKyfwI3CpB7ibH3KIWy207fNZAsiKq4Rpl8XvDvXr3bsmEzVUtEQkQbC4a8aKm9lzTlPKWaYa8xN0Qncm/Oz3V8rPsj1M2RhXsEEMFGozbPzcf0Y2Tu1fCz+BUvyAwPI2PmWAAAAAElFTkSuQmCC'); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n    "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;","alt":"Block Diagram","title":"","src":"/static/8ae1fb7bfb6f1258af7261de8063b118/a66a3/block-diagram.png","srcSet":["/static/8ae1fb7bfb6f1258af7261de8063b118/65e34/block-diagram.png 293w","/static/8ae1fb7bfb6f1258af7261de8063b118/8d594/block-diagram.png 585w","/static/8ae1fb7bfb6f1258af7261de8063b118/a66a3/block-diagram.png 1170w","/static/8ae1fb7bfb6f1258af7261de8063b118/5cf5b/block-diagram.png 1210w"],"sizes":["(max-width:","1170px)","100vw,","1170px"]},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"Above: the block diagram for the system that will be created."}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Prerequisites"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"You should already have the Digilent board files installed, and you should be able to create a simple RTL project and load the bitstream on to the Cora board from Vivado. You should also be familiar with the Petalinux procedure discussed above, as it is used in this part too. "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Writing HW Drivers"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"These notes correspond to the "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Creating Peripheral IP section of the tutorial linked above"}]},{"type":"text","value":". "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Create a new vivado project and select the Cora board. This assumes that you’ve got the Digilent board descriptions installed. "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"In the IP integrator, create a new block design. Add the Zynq PS IP to it. "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Double click the Zynq block, in the re-customize IP window, click Import XPS settings. "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Navigate to "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"vivado-boards-master/new/board_files/cora-z7-10/B.0"}]},{"type":"text","value":" and select "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"preset.xml"}]},{"type":"text","value":". Click OK. "}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/884d2ea11bafd8336c6fbbb83e7ef962/cc7d9/specify-file.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block;  max-width: 1170px; margin-left: auto; margin-right: auto;"},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 65.65096952908587%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsSAAALEgHS3X78AAAB2klEQVQoz31S2W6jMBTl/39jpMmo2clGlr7M80ijVpq0gbKGJEBsMGAwxixzSzTLQ9OjY+vo+l77LpZede9gBpqDX4zgYKG97h+sKwigat+I/6d5Thw/u1FCGBcsd2xjJk/XynK5kNfK4nG33m2V7Wa5Wa+2GwX0brt63CrLxcTU1bZtm6Zq21pKUxqFhMRpFEYYR2EY5VmOcQiac942oqoE52Vd103bVhXnRd6A6iCxotDVN9MwVVW1Ldt2zP3+1+nkepeL73vff1gv2tF14MByju6b7rjuOSIkDMOMUgldr5vlbDGXh8P+eDzqj3oP/d58NpvDmsnf+uPReCLLk+l0PJ/Lo9FgMOwPBg+9r19WykoyDEMzT1dERNXwsirLRoh3caMQdQlGUdOce56PriiKIoxQEifniycdHcc5R5RV7R00XYk0Y5qqk4iwPM+yrCiKIAggbZxS1jl9GkzZ089n27SPjpskiRCiC8Y46YI/fznLC9OwYCIlFNZZEEKSZVlxQv863QPUX/9x+BdsmHacZre04fhDAhgXpYCZvwNyBv8ubYR9HxGSxjFlrGTFx8wZp5SmaZokKctp21S+70uEELgDhg5/CjpB7wOaDFvJ8ycNPWvB6Wj/BnGpy/uT8Rj+AAAAAElFTkSuQmCC'); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n    "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;","alt":"XPS settings","title":"","src":"/static/884d2ea11bafd8336c6fbbb83e7ef962/a66a3/specify-file.png","srcSet":["/static/884d2ea11bafd8336c6fbbb83e7ef962/65e34/specify-file.png 293w","/static/884d2ea11bafd8336c6fbbb83e7ef962/8d594/specify-file.png 585w","/static/884d2ea11bafd8336c6fbbb83e7ef962/a66a3/specify-file.png 1170w","/static/884d2ea11bafd8336c6fbbb83e7ef962/cc7d9/specify-file.png 1444w"],"sizes":["(max-width:","1170px)","100vw,","1170px"]},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"Above: setting up the XPS settings for the ARM processing subsystem."}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This file comes from the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"vivado-boards"}]},{"type":"text","value":" repo from Digilent and allows the Zynq to be configured with all of the other hardware on the board. "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{"start":5},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Run block automation. "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Connect the clocks (fig 2-8 in the tutorial). I get some warnings about negative clock skew. This is a known issue and can be ignored, apparently. "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Continue until step 10 of the "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Integrating Peripheral IP with PS GP Master Port"}]},{"type":"text","value":" section where the LED port settings are configured. "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Search for “leds” in the port list of the elaborated design. Refer to the Cora reference manual and set the Package pin for each bit of the led port. Set the IO standard to "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"LVCMOS33"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/d768e6edc3e53e3dea91b398fe71032b/be9be/led-config.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block;  max-width: 1170px; margin-left: auto; margin-right: auto;"},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 56.927223719676554%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAABR0lEQVQoz6WS62rDMAyF8/4P1VEYDAaDwe6k69qtzVLHcXzPpUnOZKejfzZ2qeDDkq0oR7aS+fwcs9kZLi6vcHWb4vruBTePa6SrHRavBRZr9i0p8bDY4j7d4mmZY7kRSErOwfJ3ZLsSz6sMRalQVgY5q8C4AhcGnGIu9LQeKKWlPBtzo0+EnIQLC+P2FCgwxmGMg6+buAas9THW2kBKHffynFFsIZWGUiYSzqpKIQkq3jYMeSFR6RamHmCbEa7FRBMYYesR0vXQdC5NCx1839P+EL8JviZhifceXdPA1S3GccRk4xf8zhKtNZx10NRa3w9TOSr8XxIhBLJNhoruYTgoPCr9uyU1XXixY+ClxGedkwp6X0OUApJebRjGk9qNLTvnYWgknG9wgrCjQqUUdJgnUhhmy9IDhZ84/wMuzGeNbr9H1x35APOJVZWonVqsAAAAAElFTkSuQmCC'); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n    "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;","alt":"XPS settings","title":"","src":"/static/d768e6edc3e53e3dea91b398fe71032b/a66a3/led-config.png","srcSet":["/static/d768e6edc3e53e3dea91b398fe71032b/65e34/led-config.png 293w","/static/d768e6edc3e53e3dea91b398fe71032b/8d594/led-config.png 585w","/static/d768e6edc3e53e3dea91b398fe71032b/a66a3/led-config.png 1170w","/static/d768e6edc3e53e3dea91b398fe71032b/59785/led-config.png 1755w","/static/d768e6edc3e53e3dea91b398fe71032b/be9be/led-config.png 1855w"],"sizes":["(max-width:","1170px)","100vw,","1170px"]},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n  "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{"start":9},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"As per the tutorial, open up SDK. "}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"text","value":"Petalinux Driver Setup"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Execute the petalinux module creation commands in the "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Device Driver Development"}]},{"type":"text","value":" section. "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Copy the provided blink.c and blink.h files into project-spec/meta-user/recipes-modules/blink/files and update the .bb file. Don’t forget the trailing slash in the bb file, or the build process will throw an error. "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Run the command "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"petalinux-build"}]},{"type":"text","value":", not "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"petalinux build"}]},{"type":"text","value":" as stated in the tutorial. "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Time for coffee! The build process took quite a while on my i5 machine, approximately an hour. It includes some very large file downloads - I guess this is where the 100 GB (!) free space requirement comes from. "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Generate the boot image from the command in the cora "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/Digilent/Petalinux-Cora-Z7-10"},"children":[{"type":"text","value":"petalinux repo"}]},{"type":"text","value":": "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"petalinux-package --boot --force --fsbl images/linux/zynq_fsbl.elf --fpga images/linux/cora_z7_10_wrapper.bit --u-boot"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"As described in the repo readme above, copy the newly generated image onto the SD card in the correct location. "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Insert the SD card into the board. "}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/4e253fa7ec14a20600342f42723808e4/7989f/blinky-1.jpg","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block;  max-width: 1170px; margin-left: auto; margin-right: auto;"},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 58.80000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAwACBP/EABUBAQEAAAAAAAAAAAAAAAAAAAID/9oADAMBAAIQAxAAAAHhIHVAsxP/xAAaEAACAgMAAAAAAAAAAAAAAAABAgADEBEh/9oACAEBAAEFAjYGRmwDqOez/8QAFxEBAAMAAAAAAAAAAAAAAAAAAAERMf/aAAgBAwEBPwGMW//EABYRAQEBAAAAAAAAAAAAAAAAAAARQf/aAAgBAgEBPwHKr//EABsQAAEEAwAAAAAAAAAAAAAAAAEAAxARITFB/9oACAEBAAY/AmxmwKXZ0I//xAAZEAADAQEBAAAAAAAAAAAAAAAAAREhMVH/2gAIAQEAAT8hTfphHNT0o5k0ZoiqjP/aAAwDAQACAAMAAAAQ6/8A/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAERMf/aAAgBAwEBPxBtUs//xAAXEQEBAQEAAAAAAAAAAAAAAAABABFR/9oACAECAQE/EAVcWr//xAAZEAEAAwEBAAAAAAAAAAAAAAABABExIYH/2gAIAQEAAT8QCM8wG25LFhtcMe8gsC50uECaKod9YrbTrP/Z'); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n    "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;","alt":"LED App","title":"","src":"/static/4e253fa7ec14a20600342f42723808e4/27561/blinky-1.jpg","srcSet":["/static/4e253fa7ec14a20600342f42723808e4/06456/blinky-1.jpg 293w","/static/4e253fa7ec14a20600342f42723808e4/4b3e4/blinky-1.jpg 585w","/static/4e253fa7ec14a20600342f42723808e4/27561/blinky-1.jpg 1170w","/static/4e253fa7ec14a20600342f42723808e4/278c2/blinky-1.jpg 1755w","/static/4e253fa7ec14a20600342f42723808e4/7989f/blinky-1.jpg 2000w"],"sizes":["(max-width:","1170px)","100vw,","1170px"]},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"Above: a preview of the working blinky app"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"text","value":"SDK and FPGA Programming"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"These notes are for the "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Example Project: Loading a Module into Kernel and Executing\nthe Application"}]},{"type":"text","value":" section. "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Open SDK, skip the TCF agent on the host machine step. I won’t be using the debugger right now. "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Make a new SDK project, set Linux as the OS in the wizard. I skipped the toolchain and system root configurations because the directories in the tooltips were not present on my system.  "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Import the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"blink.h"}]},{"type":"text","value":" and "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"linux_blinkled_app.c"}]},{"type":"text","value":" file from the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"LKM_App"}]},{"type":"text","value":" directory in the example code download from the Xilinx tutorial. Delete the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"helloworld.c"}]},{"type":"text","value":" file that’s included by default. It should automatically build without errors. The .elf file generated by SDK will be copied over to the board in a later step. "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Program the FPGA with "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Xilinx > Program FPGA"}]},{"type":"text","value":". The board was auto-detected for me. "}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"text","value":"Testing out the Device"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Now that everything is built and programmed, let’s try to run the app and communicate to custom hardware from a Linux device driver!"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"With the new linux image set, cycle power and connect up to the serial port. "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Run the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"mknod"}]},{"type":"text","value":" commands on the board as described in the tutorial. "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Create a directory "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"/Apps"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"I decided to skip using the Xilinx tools for navigating on the device, and do it through SSH/the UART connection instead. "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"scp the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":".elf"}]},{"type":"text","value":" file from "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":".sdk/linux-blinkled-app/Debug/linux-blinkled-app.elf"}]},{"type":"text","value":" from the PC onto the board in the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"/Apps"}]},{"type":"text","value":" directory using the following command on the PC: "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"scp <path to elf file> root@192.168.1.69:"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"I had to remove the old SSH key stored for this IP address, since it changed when petalinux was rebuilt. Then I SSH’d into the board again."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"I moved the .elf file into the Apps directory I made earlier, chmod +777’d it as is done in the tutorial, and executed. To my great surprise, the example fired right up and lights started blinking!"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/9372cc92bbf5a88c049d7549f7f9443f/7989f/blinky-2.jpg","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block;  max-width: 1170px; margin-left: auto; margin-right: auto;"},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 75.64999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIDBP/EABYBAQEBAAAAAAAAAAAAAAAAAAMCBP/aAAwDAQACEAMQAAABzyi2lYihT//EABsQAAMAAgMAAAAAAAAAAAAAAAACAwEEEBES/9oACAEBAAEFAsbFKDWY7Jv5GfDcf//EABcRAAMBAAAAAAAAAAAAAAAAAAABESH/2gAIAQMBAT8ByFZ//8QAFxEAAwEAAAAAAAAAAAAAAAAAAAEREv/aAAgBAgEBPwGRU2z/xAAcEAABBAMBAAAAAAAAAAAAAAABAAIQUREhgTL/2gAIAQEABj8CyQzoXlvBFiloR//EABsQAQACAgMAAAAAAAAAAAAAAAEAESFhEDFR/9oACAEBAAE/IUlSiLOzrRwv5NiKoB4TE//aAAwDAQACAAMAAAAQlD//xAAYEQACAwAAAAAAAAAAAAAAAAAAASExYf/aAAgBAwEBPxBJLSbH/8QAFhEBAQEAAAAAAAAAAAAAAAAAAEFh/9oACAECAQE/EKTR/8QAHxABAAIBAwUAAAAAAAAAAAAAAQARITFBUWFxgcHh/9oACAEBAAE/EBIFCij0mGzAv0Yp4jDVbbofIyF1BcG+d/MUNAvdn//Z'); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n    "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;","alt":"Blinking LEDs","title":"","src":"/static/9372cc92bbf5a88c049d7549f7f9443f/27561/blinky-2.jpg","srcSet":["/static/9372cc92bbf5a88c049d7549f7f9443f/06456/blinky-2.jpg 293w","/static/9372cc92bbf5a88c049d7549f7f9443f/4b3e4/blinky-2.jpg 585w","/static/9372cc92bbf5a88c049d7549f7f9443f/27561/blinky-2.jpg 1170w","/static/9372cc92bbf5a88c049d7549f7f9443f/278c2/blinky-2.jpg 1755w","/static/9372cc92bbf5a88c049d7549f7f9443f/7989f/blinky-2.jpg 2000w"],"sizes":["(max-width:","1170px)","100vw,","1170px"]},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"Above: blinking LEDs controlled by an AXI-enabled peripheral from a Petalinux device driver."}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To recap, from scratch, we did the following:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"built Petalinux"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"installed a custom device driver"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"implemented an AXI-compliant IP block and hooked it up to the Zynq processing system"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"implemented and built an app to use the driver to interface to the custom IP"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"learned the build flows, practiced communicating with the target board"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"That’s pretty good! All of the building blocks of a really interesting project are in place now. It’s time to look at the example code and examine how it can be used to bootstrap a more complex application and more complex custom IP. "}]}],"data":{"quirksMode":false}},"excerpt":"This post contains notes that I generated while bringing up Petalinux on my Cora Z7-10 Zynq board that I have. In the first section, I get…","timeToRead":11,"frontmatter":{"title":"Petalinux Bringup on Cora Z7-10 Zynq Board","userDate":"2 January 2019","date":"2019-01-02T00:00:00.000Z","tags":["FPGA","Zynq","Embedded","Linux","Blog-post"],"image":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIDBP/EABYBAQEBAAAAAAAAAAAAAAAAAAMCBP/aAAwDAQACEAMQAAABzyi2lYihT//EABsQAAMAAgMAAAAAAAAAAAAAAAACAwEEEBES/9oACAEBAAEFAsbFKDWY7Jv5GfDcf//EABcRAAMBAAAAAAAAAAAAAAAAAAABESH/2gAIAQMBAT8ByFZ//8QAFxEAAwEAAAAAAAAAAAAAAAAAAAEREv/aAAgBAgEBPwGRU2z/xAAcEAABBAMBAAAAAAAAAAAAAAABAAIQUREhgTL/2gAIAQEABj8CyQzoXlvBFiloR//EABsQAQACAgMAAAAAAAAAAAAAAAEAESFhEDFR/9oACAEBAAE/IUlSiLOzrRwv5NiKoB4TE//aAAwDAQACAAMAAAAQlD//xAAYEQACAwAAAAAAAAAAAAAAAAAAASExYf/aAAgBAwEBPxBJLSbH/8QAFhEBAQEAAAAAAAAAAAAAAAAAAEFh/9oACAECAQE/EKTR/8QAHxABAAIBAwUAAAAAAAAAAAAAAQARITFBUWFxgcHh/9oACAEBAAE/EBIFCij0mGzAv0Yp4jDVbbofIyF1BcG+d/MUNAvdn//Z","aspectRatio":1.3218770654329148,"src":"/static/9372cc92bbf5a88c049d7549f7f9443f/11c05/blinky-2.jpg","srcSet":"/static/9372cc92bbf5a88c049d7549f7f9443f/d913c/blinky-2.jpg 930w,\n/static/9372cc92bbf5a88c049d7549f7f9443f/4be77/blinky-2.jpg 1860w,\n/static/9372cc92bbf5a88c049d7549f7f9443f/11c05/blinky-2.jpg 2000w","sizes":"(max-width: 2000px) 100vw, 2000px"}}},"author":{"id":"Richard","bio":"Mechatronics Systems engineering student passionate about space, interested in high-reliability embedded systems and computer vision. Currently turning coffee into CubeSats and drones.","avatar":{"children":[{"__typename":"ImageSharp","fixed":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAIDBAX/xAAVAQEBAAAAAAAAAAAAAAAAAAABAP/aAAwDAQACEAMQAAAB589OeKWwkKgbQn//xAAbEAACAwADAAAAAAAAAAAAAAABAgASIREiMf/aAAgBAQABBQKE9YzUFt5h1V0n3//EABURAQEAAAAAAAAAAAAAAAAAAAEQ/9oACAEDAQE/ASE//8QAFREBAQAAAAAAAAAAAAAAAAAAESD/2gAIAQIBAT8BY//EABoQAAICAwAAAAAAAAAAAAAAAAABESEQIDH/2gAIAQEABj8CFHcUrJ1//8QAGhABAAMBAQEAAAAAAAAAAAAAAQARIUExEP/aAAgBAQABPyG1c2E0Ipg9xPQFJ35HtxipKNj1P//aAAwDAQACAAMAAAAQkxCD/8QAGBEAAgMAAAAAAAAAAAAAAAAAABEBECH/2gAIAQMBAT8Q0xkK/8QAGBEAAgMAAAAAAAAAAAAAAAAAAAEQEUH/2gAIAQIBAT8Qs4WiP//EABwQAQADAAMBAQAAAAAAAAAAAAEAESExQXFhkf/aAAgBAQABPxCgAp6NYEcIGjV7i+0/kFpV61wTiYFlNYhBTUGAHzHlQFSFqER9qn//2Q==","width":400,"height":400,"src":"/static/a2b7322425489e49016cd6942dbb87ef/2e811/richard.jpg","srcSet":"/static/a2b7322425489e49016cd6942dbb87ef/2e811/richard.jpg 1x"}}]}}}},"relatedPosts":{"totalCount":1,"edges":[{"node":{"id":"03490e55-0a93-59fc-b9b2-da36470df238","timeToRead":11,"excerpt":"This post contains notes that I generated while bringing up Petalinux on my Cora Z7-10 Zynq board that I have. In the first section, I get…","frontmatter":{"title":"Petalinux Bringup on Cora Z7-10 Zynq Board"},"fields":{"slug":"/posts/cora-linux-getting-started/"}}}]}},"pageContext":{"slug":"/posts/cora-linux-getting-started/","prev":{"excerpt":"For the past few years, I’ve been working on a guidance system for drones with  SFU Team Guardian . This is truly a system, which…","timeToRead":4,"frontmatter":{"title":"Drone Guidance System","tags":["Drone","Projects"],"date":"2019-01-03T00:00:00.000Z","image":{"childImageSharp":{"fluid":{"aspectRatio":1.5003750937734435,"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAECAwT/xAAVAQEBAAAAAAAAAAAAAAAAAAABAv/aAAwDAQACEAMQAAAByVQdSxA//8QAGRAAAwEBAQAAAAAAAAAAAAAAAAECMQMR/9oACAEBAAEFAudtq5SPDSW7p7//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAaEAACAgMAAAAAAAAAAAAAAAAAEQExECGB/9oACAEBAAY/AlrokWsREln/xAAbEAACAgMBAAAAAAAAAAAAAAAAAREhMUFRcf/aAAgBAQABPyGl3UZSyFve30b6j5w2Vpeji6UmSWZ//9oADAMBAAIAAwAAABCkz//EABYRAAMAAAAAAAAAAAAAAAAAABAhQf/aAAgBAwEBPxBQf//EABURAQEAAAAAAAAAAAAAAAAAABAh/9oACAECAQE/EKf/xAAcEAEAAwACAwAAAAAAAAAAAAABABEhMUFRsdH/2gAIAQEAAT8QfcClgPw8xdmZvgns2XS6jvXpFoChoDBcz+tENaO4VZJbVdn/2Q==","sizes":"(max-width: 2000px) 100vw, 2000px","src":"/static/49a3b65f81b137a9d696960fcefd89fa/11c05/guidance-sys-header.jpg","srcSet":"/static/49a3b65f81b137a9d696960fcefd89fa/d913c/guidance-sys-header.jpg 930w,\n/static/49a3b65f81b137a9d696960fcefd89fa/4be77/guidance-sys-header.jpg 1860w,\n/static/49a3b65f81b137a9d696960fcefd89fa/11c05/guidance-sys-header.jpg 2000w"}}},"author":{"id":"Richard","bio":"Mechatronics Systems engineering student passionate about space, interested in high-reliability embedded systems and computer vision. Currently turning coffee into CubeSats and drones.","avatar":{"children":[{"fixed":{"src":"/static/a2b7322425489e49016cd6942dbb87ef/2e811/richard.jpg"}}]}}},"fields":{"layout":"","slug":"/posts/drone-guidance-system/"}},"next":null,"primaryTag":"FPGA"}}