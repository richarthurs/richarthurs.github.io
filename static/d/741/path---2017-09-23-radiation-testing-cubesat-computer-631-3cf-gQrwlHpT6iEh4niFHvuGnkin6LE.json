{"data":{"logo":{"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAf0lEQVQI12P49++f3v///xWBmBuIOYBYigEJQMXEobQ0kpg8EDMxoAOg4HQgzgbiBCB2AeJaIHYE4jAgjgbiFCD2BWI3IG6FymUCcQWUtoWqCwKpARkYBcReQJwF1egBZdcAXQ/ix0MtAmlMB4r5AGkHIA4BskGW5kMdZALESQDh3apPUyViLgAAAABJRU5ErkJggg==","width":400,"height":64,"src":"/static/1642a962a17c5982edb23d2f20e5a8e6/51380/logo.png","srcSet":"/static/1642a962a17c5982edb23d2f20e5a8e6/51380/logo.png 1x,\n/static/1642a962a17c5982edb23d2f20e5a8e6/240c8/logo.png 1.5x,\n/static/1642a962a17c5982edb23d2f20e5a8e6/f5cf3/logo.png 2x,\n/static/1642a962a17c5982edb23d2f20e5a8e6/01d7c/logo.png 3x"}}},"markdownRemark":{"html":"<p>At the SFU Satellite Design Team, we are taking part in the Canadian Satellite Design Challenge. As part of the challenge, we were offered the chance to put some of our hardware in a proton beam at the TRIUMF facility, Canada’s national lab for nuclear and particle physics. This was a really unique opportunity, and one we were excited to use to the best of our ability.</p>\n<p>We designed a test for our onboard computer (OBC), which has the following features:</p>\n<ul>\n<li>TMS570 microcontroller (ECC flash &#x26; RAM, lockstep architecture)</li>\n<li>external flash memory</li>\n<li>real time clock</li>\n<li>external watchdog</li>\n</ul>\n<p>Primarily, we were interested in a qualitative understanding of how the system performed under the proton beam. The test software we developed had the following functions:</p>\n<ul>\n<li>MCU self-tests (RAM, self-test controller, various peripherals)</li>\n<li>initialization routine and RTOS control</li>\n<li>reason for reset reporting</li>\n<li>external flash reads and writes</li>\n<li>time stamping of all data in flash</li>\n<li>serial communication of all flash reads/writes for logging on computer</li>\n<li>frequent watchdog kicks</li>\n</ul>\n<h2>Radiation Effects</h2>\n<p>Radiation can effect hardware in two different ways. First, single event upsets (SEU) are simple bit flips caused by a high energy particle. They don’t typically cause permanent damage, but do result in corrupted data. They are fixed by resetting the appropriate bit. ECC memory, for example, is an appropriate way to deal with SEU effects.</p>\n<p>Single event latchups are a more serious issue. In these cases, a high energy particle will alter the silicon in such a way that a P-N-P-N junction will be created. This is known as a parasitic thyristor. Thyristors can’t be turned off by any means except removing power to the thyristor (there’s no gate). In practice, this means that a chip that has SEL’d needs a power-on (hard) reset. If this reset happens fast enough, damage can be avoided. SEL events essentially create a short inside the chip, meaning current consumption will increase significantly. Therefore, we can attempt to protect against latchup by monitoring the current draw and toggling the power if the current suddenly spikes drastically. On the SFUSat OBC, we use the INA301 current sense amplifier and a FET to do this.</p>\n<h2>Test Design</h2>\n<p>The main idea is that the computer will be running fairly standard functionality (reading and writing to flash). We write, then read flash to determine if any upsets have happened due to radiation, and we print the values (at time of read) to the serial port for logging. All writes to flash are time tagged in the flash itself, and writes happen at a reliable frequency. This allows us to determine whether the RTC is still operational.</p>\n<p>The watchdog is external, although there is an internal one on the MCU. Should the system lock up due to an SEU or a latchup, the watchdog will power-on reset the MCU. This triggers the self-tests, which utilize the diagnostic structures for testing the chip at the fab, but allow us to access them with software. The idea is that these self-tests are a very fast and efficient way to toggle nearly all of the transistors on the chip, hopefully clearing any temporary upsets that may have triggered the reset in the first place. Since the reason for reset is saved and reported at startup, we can see when this happens on the monitoring computer.</p>\n<p>Overall, it was a simple test, but one that was representative of the typical types of things that the OBC will need to do. There were a few limitations, which were not implemented due to time constraints:</p>\n<ul>\n<li>no checking of number of errors automatically corrected</li>\n<li>no self-test of CPU core compare module</li>\n<li>no verification of flash integrity before writing</li>\n<li>no use of internal watchdog</li>\n<li>no test of command/response from the host computer</li>\n<li>no monitoring of power consumption for silicon degradation effects</li>\n<li>no dedicated latchup detection or mitigation</li>\n</ul>\n<p>It would have been great to get to these features. Particularly, seeing how many errors (in RAM, for example) had been automatically corrected by the chip’s ECC would have been very interesting. Overall, the intent was to test macro functionality, to determine that our OBC design could operate in a radiation rich environment, not to determine what exactly the effects are. The good news is that we can functionally test most of these items without the need for a cyclotron. For example, TI provides an API to inject errors into ECC, which will allow us to test the ECC mechanism itself. Silicon degradation is very interesting to me, and it was suggested that the power consumption will increase with the total dose of radiation received. It would be very interesting and valuable to study this, and I hope we can in the future!</p>\n<p>Despite the limitations on the scope of our test, it will give us valuable information. Primarily, we aim to establish whether the OBC can perform in low Earth orbit for a period of 1 year, and correct any errors that should arise from radiation effects. Since the reliability features used during the test are only a subset of those to be used on the actual satellite, we can reasonably expect higher reliability under the same test conditions once those features are implemented.</p>\n<h2>Test Script</h2>\n<p>To monitor the data coming back from the OBC as it was under test, I developed a simple test script in Python to take in the serial stream and time-tag each message with the UNIX epoch. This allowed us to view the data coming back in real time to determine if anything had happened to the OBC as it was under test. Time-tagging with a very accurate epoch might allow us to see if the RTC clock drifted significantly. However, the system is not deterministic, so we would most likely only be able to detect very large drifts.</p>\n<p>Of course, all of the incoming data was saved into a file as well. I will do a tutorial on writing a script like this one, as it’s a pretty quick and easy way to do a comprehensive test of an embedded system like our OBC. Also, it featured automatic reconnection, which was done in a clever way thanks to Python.</p>\n<h2>Test Setup</h2>\n<p>Going in to the test, I really did not know what to expect. To a piece of plastic, I mounted a TMS570Ls043 LaunchPad, the OBC demo board (for the RTC and watchdog), and an external breakout I made for some new flash memory, since the chips on the demo board had been EOL’d by Cypress.</p>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/7553ddb242ebbe11492ccd13ba8055cf/3afc2/triumf-2.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 1170px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 56.22263914946842%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAwQA/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAARYqoi0mr//EABoQAAMBAAMAAAAAAAAAAAAAAAECAwARIiP/2gAIAQEAAQUCLFtOvet/SYDWKKNccU//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAgEBPwFH/8QAGhAAAwEAAwAAAAAAAAAAAAAAAAERITFhof/aAAgBAQAGPwJkXHo0rnZGOJGH/8QAGxAAAwADAQEAAAAAAAAAAAAAAAERITFBYYH/2gAIAQEAAT8hTJvs+i2uJXqYMhsKXoWE1QYyp4KesKqf/9oADAMBAAIAAwAAABAfP//EABcRAQADAAAAAAAAAAAAAAAAAAABITH/2gAIAQMBAT8QjVv/xAAXEQEAAwAAAAAAAAAAAAAAAAAAAREx/9oACAECAQE/EJxR/8QAHBABAQADAAMBAAAAAAAAAAAAAREAITFRYXHR/9oACAEBAAE/ENm9BF0h4YmTAFckZv1hwkRBF3qXv5ncp4/cpOoBBfPfuDjALdq9z//Z'); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"Inside proton beam facility\"\n        title=\"\"\n        src=\"/static/7553ddb242ebbe11492ccd13ba8055cf/27561/triumf-2.jpg\"\n        srcset=\"/static/7553ddb242ebbe11492ccd13ba8055cf/06456/triumf-2.jpg 293w,\n/static/7553ddb242ebbe11492ccd13ba8055cf/4b3e4/triumf-2.jpg 585w,\n/static/7553ddb242ebbe11492ccd13ba8055cf/27561/triumf-2.jpg 1170w,\n/static/7553ddb242ebbe11492ccd13ba8055cf/3afc2/triumf-2.jpg 1599w\"\n        sizes=\"(max-width: 1170px) 100vw, 1170px\"\n      />\n  </span>\n  </a>\n<em>Proton beam facility with our test setup</em></p>\n<p>It turned out that we were testing in TRIUMF’s proton therapy facility, which is typically used to treat eye cancer. They had removed the patient chair, and there was an X-Y stage that we could mount our boards to. After selecting an appropriately sized collimator, we aimed the beam at the MCU onboard. We decided to primarily irradiate the MCU since we were mostly interested in its reliability features. If we had more time, it would have been interesting to test the RTC and flash more specifically.</p>\n<h2>Successful Test</h2>\n<p>I really got the sense that the cyclotron is a living being - and one that straddles the line between being under our control, and out of it. Earlier that day, they had to shut the system down because of a power supply failure. And as they were bringing the beam up to start our test, I watched the numbers in 4 quadrants change, as an operator steered the beam to centre it. You can almost imagine someone driving this beam around, pulling levers and things. It’s not really like that, but all of the older looking control consoles give that kind of vibe. It’s interesting, having cutting edge research (and our simple test), and very well engineered (though old) equipment working together.</p>\n<p>Digression aside, watching the beam come up to energy was really cool. When they opened the shutter, I was initially nervous that the OBC would kick the bucket very early on in the test. That didn’t happen, and it kept going, and going, and going, as more protons were channeled towards it. About 2/3 the way into the 20 minute test, we had what looked like an SEU event, as we got back some garbled data. More on this in another post after I analyze things further.</p>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1371d1c09d07c56cf1eb9ed9cd604f1f/3afc2/triumf-3.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 1170px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 56.22263914946842%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIDBP/EABUBAQEAAAAAAAAAAAAAAAAAAAIB/9oADAMBAAIQAxAAAAFnhiNuYxH/xAAZEAACAwEAAAAAAAAAAAAAAAABAgADETH/2gAIAQEAAQUCSwazLGLbZ2xQDP/EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAEDAQE/AVf/xAAXEQEAAwAAAAAAAAAAAAAAAAAAARES/9oACAECAQE/AaYh/8QAGxAAAQQDAAAAAAAAAAAAAAAAAAECEEERITH/2gAIAQEABj8Co7kpB5qP/8QAHBABAAICAwEAAAAAAAAAAAAAAQARIXExQWGx/9oACAEBAAE/IQ1KnZUeXnfZ8Mu4nQgTAFanK7n/2gAMAwEAAgADAAAAEHjf/8QAFhEBAQEAAAAAAAAAAAAAAAAAAQAR/9oACAEDAQE/EFdt3//EABURAQEAAAAAAAAAAAAAAAAAAAEQ/9oACAECAQE/EAJD/8QAHBABAAIDAQEBAAAAAAAAAAAAAQARIUFRMXGB/9oACAEBAAE/EAbGKWqBvyGOCDb8hFbixRh9WOBcEOD6TFHM40RW2rSC+T//2Q=='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"TRIUMF Cyclotron\"\n        title=\"\"\n        src=\"/static/1371d1c09d07c56cf1eb9ed9cd604f1f/27561/triumf-3.jpg\"\n        srcset=\"/static/1371d1c09d07c56cf1eb9ed9cd604f1f/06456/triumf-3.jpg 293w,\n/static/1371d1c09d07c56cf1eb9ed9cd604f1f/4b3e4/triumf-3.jpg 585w,\n/static/1371d1c09d07c56cf1eb9ed9cd604f1f/27561/triumf-3.jpg 1170w,\n/static/1371d1c09d07c56cf1eb9ed9cd604f1f/3afc2/triumf-3.jpg 1599w\"\n        sizes=\"(max-width: 1170px) 100vw, 1170px\"\n      />\n  </span>\n  </a>\n<em>Inside TRIUMF</em></p>\n<p>Aside from the SEU event though, the system performed flawlessly, and we noticed no data corruption and no resets during the test. It was also interesting to note the difference in capability between our TMS570, and a standard STM32 part. The initial dose is measured in an arbitrary calibration unit they call MC. Our test finished around 351,000 MC (3 krads), and the system was still going strong. The STM32 tested by another team only was able to handle 6,000 MC (0.05128 krads).</p>\n<h2>Conclusion</h2>\n<p>This test was an extremely valuable opportunity for the team, and I’m very happy with how it went. Clearly, there are more things we should implement for the next time a radiation test rolls around, which would make it that much more valuable. I’d also like to extend thanks to the CSDC management team, and the folks at TRIUMF who stayed up late and volunteered to help us run our tests.</p>","htmlAst":{"type":"root","children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"At the SFU Satellite Design Team, we are taking part in the Canadian Satellite Design Challenge. As part of the challenge, we were offered the chance to put some of our hardware in a proton beam at the TRIUMF facility, Canada’s national lab for nuclear and particle physics. This was a really unique opportunity, and one we were excited to use to the best of our ability."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We designed a test for our onboard computer (OBC), which has the following features:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"TMS570 microcontroller (ECC flash & RAM, lockstep architecture)"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"external flash memory"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"real time clock"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"external watchdog"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Primarily, we were interested in a qualitative understanding of how the system performed under the proton beam. The test software we developed had the following functions:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"MCU self-tests (RAM, self-test controller, various peripherals)"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"initialization routine and RTOS control"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"reason for reset reporting"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"external flash reads and writes"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"time stamping of all data in flash"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"serial communication of all flash reads/writes for logging on computer"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"frequent watchdog kicks"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Radiation Effects"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Radiation can effect hardware in two different ways. First, single event upsets (SEU) are simple bit flips caused by a high energy particle. They don’t typically cause permanent damage, but do result in corrupted data. They are fixed by resetting the appropriate bit. ECC memory, for example, is an appropriate way to deal with SEU effects."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Single event latchups are a more serious issue. In these cases, a high energy particle will alter the silicon in such a way that a P-N-P-N junction will be created. This is known as a parasitic thyristor. Thyristors can’t be turned off by any means except removing power to the thyristor (there’s no gate). In practice, this means that a chip that has SEL’d needs a power-on (hard) reset. If this reset happens fast enough, damage can be avoided. SEL events essentially create a short inside the chip, meaning current consumption will increase significantly. Therefore, we can attempt to protect against latchup by monitoring the current draw and toggling the power if the current suddenly spikes drastically. On the SFUSat OBC, we use the INA301 current sense amplifier and a FET to do this."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Test Design"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The main idea is that the computer will be running fairly standard functionality (reading and writing to flash). We write, then read flash to determine if any upsets have happened due to radiation, and we print the values (at time of read) to the serial port for logging. All writes to flash are time tagged in the flash itself, and writes happen at a reliable frequency. This allows us to determine whether the RTC is still operational."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The watchdog is external, although there is an internal one on the MCU. Should the system lock up due to an SEU or a latchup, the watchdog will power-on reset the MCU. This triggers the self-tests, which utilize the diagnostic structures for testing the chip at the fab, but allow us to access them with software. The idea is that these self-tests are a very fast and efficient way to toggle nearly all of the transistors on the chip, hopefully clearing any temporary upsets that may have triggered the reset in the first place. Since the reason for reset is saved and reported at startup, we can see when this happens on the monitoring computer."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Overall, it was a simple test, but one that was representative of the typical types of things that the OBC will need to do. There were a few limitations, which were not implemented due to time constraints:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"no checking of number of errors automatically corrected"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"no self-test of CPU core compare module"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"no verification of flash integrity before writing"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"no use of internal watchdog"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"no test of command/response from the host computer"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"no monitoring of power consumption for silicon degradation effects"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"no dedicated latchup detection or mitigation"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"It would have been great to get to these features. Particularly, seeing how many errors (in RAM, for example) had been automatically corrected by the chip’s ECC would have been very interesting. Overall, the intent was to test macro functionality, to determine that our OBC design could operate in a radiation rich environment, not to determine what exactly the effects are. The good news is that we can functionally test most of these items without the need for a cyclotron. For example, TI provides an API to inject errors into ECC, which will allow us to test the ECC mechanism itself. Silicon degradation is very interesting to me, and it was suggested that the power consumption will increase with the total dose of radiation received. It would be very interesting and valuable to study this, and I hope we can in the future!"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Despite the limitations on the scope of our test, it will give us valuable information. Primarily, we aim to establish whether the OBC can perform in low Earth orbit for a period of 1 year, and correct any errors that should arise from radiation effects. Since the reliability features used during the test are only a subset of those to be used on the actual satellite, we can reasonably expect higher reliability under the same test conditions once those features are implemented."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Test Script"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To monitor the data coming back from the OBC as it was under test, I developed a simple test script in Python to take in the serial stream and time-tag each message with the UNIX epoch. This allowed us to view the data coming back in real time to determine if anything had happened to the OBC as it was under test. Time-tagging with a very accurate epoch might allow us to see if the RTC clock drifted significantly. However, the system is not deterministic, so we would most likely only be able to detect very large drifts."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Of course, all of the incoming data was saved into a file as well. I will do a tutorial on writing a script like this one, as it’s a pretty quick and easy way to do a comprehensive test of an embedded system like our OBC. Also, it featured automatic reconnection, which was done in a clever way thanks to Python."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Test Setup"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Going in to the test, I really did not know what to expect. To a piece of plastic, I mounted a TMS570Ls043 LaunchPad, the OBC demo board (for the RTC and watchdog), and an external breakout I made for some new flash memory, since the chips on the demo board had been EOL’d by Cypress."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/7553ddb242ebbe11492ccd13ba8055cf/3afc2/triumf-2.jpg","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block;  max-width: 1170px; margin-left: auto; margin-right: auto;"},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 56.22263914946842%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAwQA/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAARYqoi0mr//EABoQAAMBAAMAAAAAAAAAAAAAAAECAwARIiP/2gAIAQEAAQUCLFtOvet/SYDWKKNccU//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAgEBPwFH/8QAGhAAAwEAAwAAAAAAAAAAAAAAAAERITFhof/aAAgBAQAGPwJkXHo0rnZGOJGH/8QAGxAAAwADAQEAAAAAAAAAAAAAAAERITFBYYH/2gAIAQEAAT8hTJvs+i2uJXqYMhsKXoWE1QYyp4KesKqf/9oADAMBAAIAAwAAABAfP//EABcRAQADAAAAAAAAAAAAAAAAAAABITH/2gAIAQMBAT8QjVv/xAAXEQEAAwAAAAAAAAAAAAAAAAAAAREx/9oACAECAQE/EJxR/8QAHBABAQADAAMBAAAAAAAAAAAAAREAITFRYXHR/9oACAEBAAE/ENm9BF0h4YmTAFckZv1hwkRBF3qXv5ncp4/cpOoBBfPfuDjALdq9z//Z'); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n    "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;","alt":"Inside proton beam facility","title":"","src":"/static/7553ddb242ebbe11492ccd13ba8055cf/27561/triumf-2.jpg","srcSet":["/static/7553ddb242ebbe11492ccd13ba8055cf/06456/triumf-2.jpg 293w","/static/7553ddb242ebbe11492ccd13ba8055cf/4b3e4/triumf-2.jpg 585w","/static/7553ddb242ebbe11492ccd13ba8055cf/27561/triumf-2.jpg 1170w","/static/7553ddb242ebbe11492ccd13ba8055cf/3afc2/triumf-2.jpg 1599w"],"sizes":["(max-width:","1170px)","100vw,","1170px"]},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"Proton beam facility with our test setup"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"It turned out that we were testing in TRIUMF’s proton therapy facility, which is typically used to treat eye cancer. They had removed the patient chair, and there was an X-Y stage that we could mount our boards to. After selecting an appropriately sized collimator, we aimed the beam at the MCU onboard. We decided to primarily irradiate the MCU since we were mostly interested in its reliability features. If we had more time, it would have been interesting to test the RTC and flash more specifically."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Successful Test"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"I really got the sense that the cyclotron is a living being - and one that straddles the line between being under our control, and out of it. Earlier that day, they had to shut the system down because of a power supply failure. And as they were bringing the beam up to start our test, I watched the numbers in 4 quadrants change, as an operator steered the beam to centre it. You can almost imagine someone driving this beam around, pulling levers and things. It’s not really like that, but all of the older looking control consoles give that kind of vibe. It’s interesting, having cutting edge research (and our simple test), and very well engineered (though old) equipment working together."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Digression aside, watching the beam come up to energy was really cool. When they opened the shutter, I was initially nervous that the OBC would kick the bucket very early on in the test. That didn’t happen, and it kept going, and going, and going, as more protons were channeled towards it. About 2/3 the way into the 20 minute test, we had what looked like an SEU event, as we got back some garbled data. More on this in another post after I analyze things further."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/1371d1c09d07c56cf1eb9ed9cd604f1f/3afc2/triumf-3.jpg","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block;  max-width: 1170px; margin-left: auto; margin-right: auto;"},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 56.22263914946842%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIDBP/EABUBAQEAAAAAAAAAAAAAAAAAAAIB/9oADAMBAAIQAxAAAAFnhiNuYxH/xAAZEAACAwEAAAAAAAAAAAAAAAABAgADETH/2gAIAQEAAQUCSwazLGLbZ2xQDP/EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAEDAQE/AVf/xAAXEQEAAwAAAAAAAAAAAAAAAAAAARES/9oACAECAQE/AaYh/8QAGxAAAQQDAAAAAAAAAAAAAAAAAAECEEERITH/2gAIAQEABj8Co7kpB5qP/8QAHBABAAICAwEAAAAAAAAAAAAAAQARIXExQWGx/9oACAEBAAE/IQ1KnZUeXnfZ8Mu4nQgTAFanK7n/2gAMAwEAAgADAAAAEHjf/8QAFhEBAQEAAAAAAAAAAAAAAAAAAQAR/9oACAEDAQE/EFdt3//EABURAQEAAAAAAAAAAAAAAAAAAAEQ/9oACAECAQE/EAJD/8QAHBABAAIDAQEBAAAAAAAAAAAAAQARIUFRMXGB/9oACAEBAAE/EAbGKWqBvyGOCDb8hFbixRh9WOBcEOD6TFHM40RW2rSC+T//2Q=='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n    "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;","alt":"TRIUMF Cyclotron","title":"","src":"/static/1371d1c09d07c56cf1eb9ed9cd604f1f/27561/triumf-3.jpg","srcSet":["/static/1371d1c09d07c56cf1eb9ed9cd604f1f/06456/triumf-3.jpg 293w","/static/1371d1c09d07c56cf1eb9ed9cd604f1f/4b3e4/triumf-3.jpg 585w","/static/1371d1c09d07c56cf1eb9ed9cd604f1f/27561/triumf-3.jpg 1170w","/static/1371d1c09d07c56cf1eb9ed9cd604f1f/3afc2/triumf-3.jpg 1599w"],"sizes":["(max-width:","1170px)","100vw,","1170px"]},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"Inside TRIUMF"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Aside from the SEU event though, the system performed flawlessly, and we noticed no data corruption and no resets during the test. It was also interesting to note the difference in capability between our TMS570, and a standard STM32 part. The initial dose is measured in an arbitrary calibration unit they call MC. Our test finished around 351,000 MC (3 krads), and the system was still going strong. The STM32 tested by another team only was able to handle 6,000 MC (0.05128 krads)."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Conclusion"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This test was an extremely valuable opportunity for the team, and I’m very happy with how it went. Clearly, there are more things we should implement for the next time a radiation test rolls around, which would make it that much more valuable. I’d also like to extend thanks to the CSDC management team, and the folks at TRIUMF who stayed up late and volunteered to help us run our tests."}]}],"data":{"quirksMode":false}},"excerpt":"At the SFU Satellite Design Team, we are taking part in the Canadian Satellite Design Challenge. As part of the challenge, we were offered…","timeToRead":6,"frontmatter":{"title":"Radiation Testing a CubeSat Computer","userDate":"23 September 2017","date":"2017-09-23T00:00:00.000Z","tags":["CubeSat","Radiation","SEL","OBC","SFUSat","Blog-post"],"image":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAQBAwX/xAAVAQEBAAAAAAAAAAAAAAAAAAABAP/aAAwDAQACEAMQAAABi3NaJsUB/8QAGhABAQACAwAAAAAAAAAAAAAAAQIAAxESIv/aAAgBAQABBQKECa755zU81rpMqlr/xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAwEBPwFX/8QAFxEAAwEAAAAAAAAAAAAAAAAAABESIf/aAAgBAgEBPwFLST//xAAaEAACAgMAAAAAAAAAAAAAAAAAARExAhAh/9oACAEBAAY/AlLOFvWUFn//xAAaEAEBAQEAAwAAAAAAAAAAAAABEQAhMUFh/9oACAEBAAE/IThuG8SnmICq/eZFr7m6BI68Vv/aAAwDAQACAAMAAAAQ9O//xAAWEQEBAQAAAAAAAAAAAAAAAAARARD/2gAIAQMBAT8QWkx//8QAFxEBAQEBAAAAAAAAAAAAAAAAAQARIf/aAAgBAgEBPxBAVGu3/8QAHRABAQACAQUAAAAAAAAAAAAAAREAMUEhUYGRsf/aAAgBAQABPxC5JZ2znL2uUgBtkO+QRQ67PWHLJPguNpVEnE1jRZh8M//Z","aspectRatio":1.778642936596218,"src":"/static/de178e6f5465ab050ebae7d1711e2130/2f7ed/triumf-1.jpg","srcSet":"/static/de178e6f5465ab050ebae7d1711e2130/ddd93/triumf-1.jpg 930w,\n/static/de178e6f5465ab050ebae7d1711e2130/2f7ed/triumf-1.jpg 1599w","sizes":"(max-width: 1599px) 100vw, 1599px"}}},"author":{"id":"Richard","bio":"Mechatronics Systems engineering student passionate about space, interested in high-reliability embedded systems and computer vision. Currently turning coffee into CubeSats and drones.","avatar":{"children":[{"__typename":"ImageSharp","fixed":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAIDBAX/xAAVAQEBAAAAAAAAAAAAAAAAAAABAP/aAAwDAQACEAMQAAAB589OeKWwkKgbQn//xAAbEAACAwADAAAAAAAAAAAAAAABAgASIREiMf/aAAgBAQABBQKE9YzUFt5h1V0n3//EABURAQEAAAAAAAAAAAAAAAAAAAEQ/9oACAEDAQE/ASE//8QAFREBAQAAAAAAAAAAAAAAAAAAESD/2gAIAQIBAT8BY//EABoQAAICAwAAAAAAAAAAAAAAAAABESEQIDH/2gAIAQEABj8CFHcUrJ1//8QAGhABAAMBAQEAAAAAAAAAAAAAAQARIUExEP/aAAgBAQABPyG1c2E0Ipg9xPQFJ35HtxipKNj1P//aAAwDAQACAAMAAAAQkxCD/8QAGBEAAgMAAAAAAAAAAAAAAAAAABEBECH/2gAIAQMBAT8Q0xkK/8QAGBEAAgMAAAAAAAAAAAAAAAAAAAEQEUH/2gAIAQIBAT8Qs4WiP//EABwQAQADAAMBAQAAAAAAAAAAAAEAESExQXFhkf/aAAgBAQABPxCgAp6NYEcIGjV7i+0/kFpV61wTiYFlNYhBTUGAHzHlQFSFqER9qn//2Q==","width":400,"height":400,"src":"/static/a2b7322425489e49016cd6942dbb87ef/2e811/richard.jpg","srcSet":"/static/a2b7322425489e49016cd6942dbb87ef/2e811/richard.jpg 1x"}}]}}}},"relatedPosts":{"totalCount":2,"edges":[{"node":{"id":"0173bb7d-8487-5dba-bad6-3bd7491f999d","timeToRead":4,"excerpt":"At the  SFU Satellite Design Team , we’re building a CubeSat from scratch. One of my main roles is designing the onboard computer hardware…","frontmatter":{"title":"CubeSat Computing Boards"},"fields":{"slug":"/2017/08/20/cubesat-computing-boards/"}}},{"node":{"id":"9525fabd-e6c6-5936-953f-1c06e412f65f","timeToRead":6,"excerpt":"At the SFU Satellite Design Team, we are taking part in the Canadian Satellite Design Challenge. As part of the challenge, we were offered…","frontmatter":{"title":"Radiation Testing a CubeSat Computer"},"fields":{"slug":"/2017/09/23/radiation-testing-cubesat-computer/"}}}]}},"pageContext":{"slug":"/2017/09/23/radiation-testing-cubesat-computer/","prev":{"excerpt":"Being as wrapped up in the tech industry as I am, I knew it would only be a matter of time until I would try my hand at some deep learning…","timeToRead":7,"frontmatter":{"title":"Getting Started With Deep Learning – Classifying Images From a Drone","tags":["Machine-Learning","Blog-post"],"date":"2018-04-06T00:00:00.000Z","image":{"childImageSharp":{"fluid":{"aspectRatio":4.179591836734694,"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsSAAALEgHS3X78AAABVElEQVQY0x2QSU/CYBiE+eOauNQSrUWrLEUjtYCtLEVxw4gLeCaYaEJlUcFewAiEBEjg8Pjh6U1mJrO8vm63S7PZZHHH4zGz2YzBYEC7/YXneYxGI+bzOcPhkE6nI/A2/X7/XzeZTPjp9QQusN9fptMpPml9DU3bY2lpmaOjGG+vr4SDe5imgSxvoChb1N9dlE2ZQEAlHAkhb0i4rstZzsEwYsQMA0mSKBaL+CK6jpk8YTuwi2WdUqvVhJnJaTpNWI9ycHBIo15H3VZIJuNYtoWuh/n8+MDJZoknEqQyGXShK5efF4ZRDDPBjraPbaeoVCrIfj+hSAQtGBKNdFwRsrqywuaWwq5Yo6oqrVYL8zhOYEcjKswW3P39A76bmwKPT2Xy+QuRUKbRaIqmNmfnebKOw+Xl1f/vbMvCcXJcXxfIiPbet0epVOJC8IXbO1LpDNXqC3/qtTnC7q4YpQAAAABJRU5ErkJggg==","sizes":"(max-width: 1024px) 100vw, 1024px","src":"/static/0a68c8297e55bf5578f1d7bf95d3fdfa/7407a/drone-deep-learn-header.png","srcSet":"/static/0a68c8297e55bf5578f1d7bf95d3fdfa/a9337/drone-deep-learn-header.png 930w,\n/static/0a68c8297e55bf5578f1d7bf95d3fdfa/7407a/drone-deep-learn-header.png 1024w"}}},"author":{"id":"Richard","bio":"Mechatronics Systems engineering student passionate about space, interested in high-reliability embedded systems and computer vision. Currently turning coffee into CubeSats and drones.","avatar":{"children":[{"fixed":{"src":"/static/a2b7322425489e49016cd6942dbb87ef/2e811/richard.jpg"}}]}}},"fields":{"layout":"","slug":"/2018/04/06/deep-learning-drone-getting-started/"}},"next":{"excerpt":"For the past few years, I’ve been working on a guidance system for drones with  SFU Team Guardian . This is truly a system, which…","timeToRead":4,"frontmatter":{"title":"Drone Guidance System","tags":["Drone","Projects"],"date":"2019-01-03T00:00:00.000Z","image":{"childImageSharp":{"fluid":{"aspectRatio":1.5003750937734435,"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAECAwT/xAAVAQEBAAAAAAAAAAAAAAAAAAABAv/aAAwDAQACEAMQAAAByVQdSxA//8QAGRAAAwEBAQAAAAAAAAAAAAAAAAECMQMR/9oACAEBAAEFAudtq5SPDSW7p7//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAaEAACAgMAAAAAAAAAAAAAAAAAEQExECGB/9oACAEBAAY/AlrokWsREln/xAAbEAACAgMBAAAAAAAAAAAAAAAAAREhMUFRcf/aAAgBAQABPyGl3UZSyFve30b6j5w2Vpeji6UmSWZ//9oADAMBAAIAAwAAABCkz//EABYRAAMAAAAAAAAAAAAAAAAAABAhQf/aAAgBAwEBPxBQf//EABURAQEAAAAAAAAAAAAAAAAAABAh/9oACAECAQE/EKf/xAAcEAEAAwACAwAAAAAAAAAAAAABABEhMUFRsdH/2gAIAQEAAT8QfcClgPw8xdmZvgns2XS6jvXpFoChoDBcz+tENaO4VZJbVdn/2Q==","sizes":"(max-width: 2000px) 100vw, 2000px","src":"/static/49a3b65f81b137a9d696960fcefd89fa/11c05/guidance-sys-header.jpg","srcSet":"/static/49a3b65f81b137a9d696960fcefd89fa/d913c/guidance-sys-header.jpg 930w,\n/static/49a3b65f81b137a9d696960fcefd89fa/4be77/guidance-sys-header.jpg 1860w,\n/static/49a3b65f81b137a9d696960fcefd89fa/11c05/guidance-sys-header.jpg 2000w"}}},"author":{"id":"Richard","bio":"Mechatronics Systems engineering student passionate about space, interested in high-reliability embedded systems and computer vision. Currently turning coffee into CubeSats and drones.","avatar":{"children":[{"fixed":{"src":"/static/a2b7322425489e49016cd6942dbb87ef/2e811/richard.jpg"}}]}}},"fields":{"layout":"","slug":"/projects/drone-guidance-system/"}},"primaryTag":"CubeSat"}}