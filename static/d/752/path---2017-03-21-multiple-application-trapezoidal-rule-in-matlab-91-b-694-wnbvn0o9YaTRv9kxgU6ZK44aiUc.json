{"data":{"logo":{"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAf0lEQVQI12P49++f3v///xWBmBuIOYBYigEJQMXEobQ0kpg8EDMxoAOg4HQgzgbiBCB2AeJaIHYE4jAgjgbiFCD2BWI3IG6FymUCcQWUtoWqCwKpARkYBcReQJwF1egBZdcAXQ/ix0MtAmlMB4r5AGkHIA4BskGW5kMdZALESQDh3apPUyViLgAAAABJRU5ErkJggg==","width":400,"height":64,"src":"/static/1642a962a17c5982edb23d2f20e5a8e6/51380/logo.png","srcSet":"/static/1642a962a17c5982edb23d2f20e5a8e6/51380/logo.png 1x,\n/static/1642a962a17c5982edb23d2f20e5a8e6/240c8/logo.png 1.5x,\n/static/1642a962a17c5982edb23d2f20e5a8e6/f5cf3/logo.png 2x,\n/static/1642a962a17c5982edb23d2f20e5a8e6/01d7c/logo.png 3x"}}},"markdownRemark":{"html":"<p>I recently had to implement multi-application trapezoidal rule for some work I was doing. I decided to implement the algorithm in MATLAB, and figured I’d post a tutorial for it, since I know many people struggle with implementing algorithms in code.</p>\n<p>This implementation takes advantage of MATLAB’s built in functions, and as such, requires no loop. This technique is referred to as ‘vectorization’ and in many cases, can speed up your code significantly, as it lets MATLAB take advantage of its built in matrix features, which rely on LAPACK and LINPACK - matrix math libraries that have been hand-optimized for various processor architectures. Pretty cool!</p>\n<p>We’ll build this up in a script so it’s easy to see all of the variables. I often play around with scripts as I’m developing in MATLAB, and encapsulate the code in a function later.</p>\n<h2>Step 1: Define Function</h2>\n<p>Trapezoidal rule is a method of numerical integration. It’s not a great one, but it is easy to understand. I’ll assume the reader already has an understanding of how to do it.</p>\n<p>Let’s use an <a href=\"https://www.mathworks.com/help/matlab/matlab_prog/anonymous-functions.html\">anonymous function</a> to contain the specific function we’d like to integrate. This lets us use standard math notation F(x) to fun the function in our code.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">F = @(x) x^3 + 2*x +5;</code></pre></div>\n<h2>Step 2: Setup Integration Variables</h2>\n<p>Now we need some variables to contain the start and end points of the integral, and the number of sections we’d like to use in our trap rule.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">start = 0;\nendpt = 5;\nn = 3;</code></pre></div>\n<p>We’ll also generate the points to evaluate the function at using the <code class=\"language-text\">linspace</code> function, which generates a set of n evenly spaced points between start and endpt.</p>\n<p>Also, we’ll generate <code class=\"language-text\">h</code>, our step width using the points we just calculated.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">points = linspace(start, endpt, n+1);\nh = abs(points(2) - points(1));</code></pre></div>\n<h2>Step 3: Implement Algorithm</h2>\n<p>The algorithm for multi application trapezoidal rule is the following:</p>\n<p><img src=\"/matlab-trap-2-30b0f301cb418b5a0d014583823c3e18.gif\" alt=\"Multiple application trapezoidal rule\">\n<em>Multiple application trapezoidal rule</em></p>\n<p>We can implement this in MATLAB, using the <a href=\"https://www.mathworks.com/help/matlab/ref/sum.html\"><code class=\"language-text\">sum()</code></a> function as well as the <a href=\"https://www.mathworks.com/help/matlab/ref/arrayfun.html\"><code class=\"language-text\">arrayfun()</code></a> function, which will apply each element of the points array to our anonymous function <code class=\"language-text\">F</code>. One important note is that the algorithm above has the points zero-indexed. MATLAB arrays use 1-indexing, so we need to add 1 to each subscript of <code class=\"language-text\">x</code> in the image above.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">int = (h/2) * (F(points(1)) + 2*sum(arrayfun(F, points(2:n))) + F(points(n+1)))</code></pre></div>\n<h2>Step 4: Vectorize</h2>\n<p>Right now, we have <code class=\"language-text\">arrayfun()</code>, which is (likely) one step better than using a loop. Even better would be using full vectorization. To do this, we need to reformat the f function to take vectors. So, we’ll use the much-misunderstood dot operator <code class=\"language-text\">.</code> ahead of our caret <code class=\"language-text\">^</code> to make the power element-wise. This means the power will be applied to each element of the input vector, which is what we want. It’s not needed in this application, but using the . before multiplication will result in a more robust function as well, so let’s do it to demonstrate.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">f = @(x) x.^3 + 2*x +5;</code></pre></div>\n<p>The trap expression will now look like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">int = (h/2) * (f(points(1)) + 2*sum(f(points(2:n))) + f(points(n+1)));</code></pre></div>\n<h2>Plotting</h2>\n<p>Let’s plot the original function at a higher resolution, and plot the trap points we evaluated. I’ll take advantage of linspace again, to plot our “base” function with 30 times more points than n. For small values of <code class=\"language-text\">n</code>, this will clearly show the points we use in trap rule. For higher n values, it’ll all smush together.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">% plot a high resolution curve of the function and superimpose the trap\n% points\nplot(linspace(start,endpt,n*30),f(linspace(start,endpt,n*30)))\nhold on\nplot(points, f(points))\ntitle(sprintf(&#39;Trap Rule n = %i&#39;, n))</code></pre></div>\n<p>Notice that I used <a href=\"https://www.mathworks.com/help/matlab/ref/sprintf.html\"><code class=\"language-text\">sprintf</code></a> to display <code class=\"language-text\">n</code> in the title of the plot. Sprintf is used for formatting data into strings, which is what the <code class=\"language-text\">title()</code> function takes.</p>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/51b119f8702c088968b5290a8e434baa/4c221/matlab-trap-1.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 700px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 67.57142857142857%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAOABQDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAG+AD//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAEFAl//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAY/Al//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAE/IV//2gAMAwEAAgADAAAAEPPP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGBAAAwEBAAAAAAAAAAAAAAAAAAEhEGH/2gAIAQEAAT8QREIvN//Z'); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"Plot of our test function\"\n        title=\"\"\n        src=\"/static/51b119f8702c088968b5290a8e434baa/4c221/matlab-trap-1.jpg\"\n        srcset=\"/static/51b119f8702c088968b5290a8e434baa/610c7/matlab-trap-1.jpg 293w,\n/static/51b119f8702c088968b5290a8e434baa/a8060/matlab-trap-1.jpg 585w,\n/static/51b119f8702c088968b5290a8e434baa/4c221/matlab-trap-1.jpg 700w\"\n        sizes=\"(max-width: 700px) 100vw, 700px\"\n      />\n  </span>\n  </a>\n<em>Plot of our test function</em></p>\n<h2>The Entire Thing</h2>\n<p>Here’s the entire script.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">%% Multi application trap rule\n% Richard Arthurs, March 20, 2017\n% Richarthurs.com\n\nf = @(x) x.^3 + 2*x +5; % Function to integrate\n\nstart = 0;\nendpt = 5;\nn = 3; % number of sections of trap rule\npoints = linspace(start, endpt, n+1);\nh = abs(points(2) - points(1));\n\nint = (h/2) * (f(points(1)) + 2*sum(f(points(2:n))) + f(points(n+1))) % the integral approximation\n\n% plot a high resolution curve of the function and superimpose the trap points\nplot(linspace(start,endpt,n*30),f(linspace(start,endpt,n*30)))\nhold on\nplot(points, f(points))\ntitle(sprintf(&#39;Trap Rule n = %i&#39;, n))</code></pre></div>","htmlAst":{"type":"root","children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"I recently had to implement multi-application trapezoidal rule for some work I was doing. I decided to implement the algorithm in MATLAB, and figured I’d post a tutorial for it, since I know many people struggle with implementing algorithms in code."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This implementation takes advantage of MATLAB’s built in functions, and as such, requires no loop. This technique is referred to as ‘vectorization’ and in many cases, can speed up your code significantly, as it lets MATLAB take advantage of its built in matrix features, which rely on LAPACK and LINPACK - matrix math libraries that have been hand-optimized for various processor architectures. Pretty cool!"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We’ll build this up in a script so it’s easy to see all of the variables. I often play around with scripts as I’m developing in MATLAB, and encapsulate the code in a function later."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Step 1: Define Function"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Trapezoidal rule is a method of numerical integration. It’s not a great one, but it is easy to understand. I’ll assume the reader already has an understanding of how to do it."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Let’s use an "},{"type":"element","tagName":"a","properties":{"href":"https://www.mathworks.com/help/matlab/matlab_prog/anonymous-functions.html"},"children":[{"type":"text","value":"anonymous function"}]},{"type":"text","value":" to contain the specific function we’d like to integrate. This lets us use standard math notation F(x) to fun the function in our code."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"F = @(x) x^3 + 2*x +5;"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Step 2: Setup Integration Variables"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Now we need some variables to contain the start and end points of the integral, and the number of sections we’d like to use in our trap rule."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"start = 0;\nendpt = 5;\nn = 3;"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We’ll also generate the points to evaluate the function at using the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"linspace"}]},{"type":"text","value":" function, which generates a set of n evenly spaced points between start and endpt."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Also, we’ll generate "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"h"}]},{"type":"text","value":", our step width using the points we just calculated."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"points = linspace(start, endpt, n+1);\nh = abs(points(2) - points(1));"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Step 3: Implement Algorithm"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The algorithm for multi application trapezoidal rule is the following:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"/matlab-trap-2-30b0f301cb418b5a0d014583823c3e18.gif","alt":"Multiple application trapezoidal rule"},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"Multiple application trapezoidal rule"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We can implement this in MATLAB, using the "},{"type":"element","tagName":"a","properties":{"href":"https://www.mathworks.com/help/matlab/ref/sum.html"},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"sum()"}]}]},{"type":"text","value":" function as well as the "},{"type":"element","tagName":"a","properties":{"href":"https://www.mathworks.com/help/matlab/ref/arrayfun.html"},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"arrayfun()"}]}]},{"type":"text","value":" function, which will apply each element of the points array to our anonymous function "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"F"}]},{"type":"text","value":". One important note is that the algorithm above has the points zero-indexed. MATLAB arrays use 1-indexing, so we need to add 1 to each subscript of "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"x"}]},{"type":"text","value":" in the image above."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"int = (h/2) * (F(points(1)) + 2*sum(arrayfun(F, points(2:n))) + F(points(n+1)))"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Step 4: Vectorize"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Right now, we have "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"arrayfun()"}]},{"type":"text","value":", which is (likely) one step better than using a loop. Even better would be using full vectorization. To do this, we need to reformat the f function to take vectors. So, we’ll use the much-misunderstood dot operator "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":" ahead of our caret "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"^"}]},{"type":"text","value":" to make the power element-wise. This means the power will be applied to each element of the input vector, which is what we want. It’s not needed in this application, but using the . before multiplication will result in a more robust function as well, so let’s do it to demonstrate."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"f = @(x) x.^3 + 2*x +5;"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The trap expression will now look like this:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"int = (h/2) * (f(points(1)) + 2*sum(f(points(2:n))) + f(points(n+1)));"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Plotting"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Let’s plot the original function at a higher resolution, and plot the trap points we evaluated. I’ll take advantage of linspace again, to plot our “base” function with 30 times more points than n. For small values of "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"n"}]},{"type":"text","value":", this will clearly show the points we use in trap rule. For higher n values, it’ll all smush together."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"% plot a high resolution curve of the function and superimpose the trap\n% points\nplot(linspace(start,endpt,n*30),f(linspace(start,endpt,n*30)))\nhold on\nplot(points, f(points))\ntitle(sprintf('Trap Rule n = %i', n))"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Notice that I used "},{"type":"element","tagName":"a","properties":{"href":"https://www.mathworks.com/help/matlab/ref/sprintf.html"},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"sprintf"}]}]},{"type":"text","value":" to display "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"n"}]},{"type":"text","value":" in the title of the plot. Sprintf is used for formatting data into strings, which is what the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"title()"}]},{"type":"text","value":" function takes."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/51b119f8702c088968b5290a8e434baa/4c221/matlab-trap-1.jpg","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block;  max-width: 700px; margin-left: auto; margin-right: auto;"},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 67.57142857142857%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAOABQDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAG+AD//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAEFAl//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAY/Al//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAE/IV//2gAMAwEAAgADAAAAEPPP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGBAAAwEBAAAAAAAAAAAAAAAAAAEhEGH/2gAIAQEAAT8QREIvN//Z'); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n    "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;","alt":"Plot of our test function","title":"","src":"/static/51b119f8702c088968b5290a8e434baa/4c221/matlab-trap-1.jpg","srcSet":["/static/51b119f8702c088968b5290a8e434baa/610c7/matlab-trap-1.jpg 293w","/static/51b119f8702c088968b5290a8e434baa/a8060/matlab-trap-1.jpg 585w","/static/51b119f8702c088968b5290a8e434baa/4c221/matlab-trap-1.jpg 700w"],"sizes":["(max-width:","700px)","100vw,","700px"]},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"Plot of our test function"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"The Entire Thing"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Here’s the entire script."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"%% Multi application trap rule\n% Richard Arthurs, March 20, 2017\n% Richarthurs.com\n\nf = @(x) x.^3 + 2*x +5; % Function to integrate\n\nstart = 0;\nendpt = 5;\nn = 3; % number of sections of trap rule\npoints = linspace(start, endpt, n+1);\nh = abs(points(2) - points(1));\n\nint = (h/2) * (f(points(1)) + 2*sum(f(points(2:n))) + f(points(n+1))) % the integral approximation\n\n% plot a high resolution curve of the function and superimpose the trap points\nplot(linspace(start,endpt,n*30),f(linspace(start,endpt,n*30)))\nhold on\nplot(points, f(points))\ntitle(sprintf('Trap Rule n = %i', n))"}]}]}]}],"data":{"quirksMode":false}},"excerpt":"I recently had to implement multi-application trapezoidal rule for some work I was doing. I decided to implement the algorithm in MATLAB…","timeToRead":4,"frontmatter":{"title":"Multiple Application Trapezoidal Rule in MATLAB","userDate":"21 March 2017","date":"2017-03-21T00:00:00.000Z","tags":["MATLAB","tutorial","programming","engineering","Blog-post"],"image":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAOABQDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAG+AD//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAEFAl//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAY/Al//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAE/IV//2gAMAwEAAgADAAAAEPPP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGBAAAwEBAAAAAAAAAAAAAAAAAAEhEGH/2gAIAQEAAT8QREIvN//Z","aspectRatio":1.4799154334038056,"src":"/static/51b119f8702c088968b5290a8e434baa/a7a5f/matlab-trap-1.jpg","srcSet":"/static/51b119f8702c088968b5290a8e434baa/a7a5f/matlab-trap-1.jpg 700w","sizes":"(max-width: 700px) 100vw, 700px"}}},"author":{"id":"Richard","bio":"Mechatronics Systems engineering student passionate about space, interested in high-reliability embedded systems and computer vision. Currently turning coffee into CubeSats and drones.","avatar":{"children":[{"__typename":"ImageSharp","fixed":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAIDBAX/xAAVAQEBAAAAAAAAAAAAAAAAAAABAP/aAAwDAQACEAMQAAAB589OeKWwkKgbQn//xAAbEAACAwADAAAAAAAAAAAAAAABAgASIREiMf/aAAgBAQABBQKE9YzUFt5h1V0n3//EABURAQEAAAAAAAAAAAAAAAAAAAEQ/9oACAEDAQE/ASE//8QAFREBAQAAAAAAAAAAAAAAAAAAESD/2gAIAQIBAT8BY//EABoQAAICAwAAAAAAAAAAAAAAAAABESEQIDH/2gAIAQEABj8CFHcUrJ1//8QAGhABAAMBAQEAAAAAAAAAAAAAAQARIUExEP/aAAgBAQABPyG1c2E0Ipg9xPQFJ35HtxipKNj1P//aAAwDAQACAAMAAAAQkxCD/8QAGBEAAgMAAAAAAAAAAAAAAAAAABEBECH/2gAIAQMBAT8Q0xkK/8QAGBEAAgMAAAAAAAAAAAAAAAAAAAEQEUH/2gAIAQIBAT8Qs4WiP//EABwQAQADAAMBAQAAAAAAAAAAAAEAESExQXFhkf/aAAgBAQABPxCgAp6NYEcIGjV7i+0/kFpV61wTiYFlNYhBTUGAHzHlQFSFqER9qn//2Q==","width":400,"height":400,"src":"/static/a2b7322425489e49016cd6942dbb87ef/2e811/richard.jpg","srcSet":"/static/a2b7322425489e49016cd6942dbb87ef/2e811/richard.jpg 1x"}}]}}}},"relatedPosts":{"totalCount":1,"edges":[{"node":{"id":"13df7d45-d2d8-575c-bacc-304d492d692e","timeToRead":4,"excerpt":"I recently had to implement multi-application trapezoidal rule for some work I was doing. I decided to implement the algorithm in MATLAB…","frontmatter":{"title":"Multiple Application Trapezoidal Rule in MATLAB"},"fields":{"slug":"/2017/03/21/multiple-application-trapezoidal-rule-in-matlab/"}}}]}},"pageContext":{"slug":"/2017/03/21/multiple-application-trapezoidal-rule-in-matlab/","prev":{"excerpt":"In this second post regarding my experiments with OpenCV on the Raspberry pi, I will go over interfacing the OpenCV code with the Pi’s UART…","timeToRead":3,"frontmatter":{"title":"Raspberry Pi & OpenCV - UART Communication (Part 2)","tags":["openCV","camera","raspberry pi","UART","linux","embedded","Blog-post"],"date":"2017-08-23T00:00:00.000Z","image":{"childImageSharp":{"fluid":{"aspectRatio":1.3711151736745886,"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMEAv/EABYBAQEBAAAAAAAAAAAAAAAAAAEAAv/aAAwDAQACEAMQAAABW2icMFZa/8QAGxAAAwACAwAAAAAAAAAAAAAAAQIRAAMhIiP/2gAIAQEAAQUCNQNwokdu2tvSDP/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABcRAQADAAAAAAAAAAAAAAAAAAABITH/2gAIAQIBAT8BjVP/xAAdEAACAgEFAAAAAAAAAAAAAAAAAQIRMQMhMlGh/9oACAEBAAY/AjdtI5C01mXhKF2l2YP/xAAcEAACAgIDAAAAAAAAAAAAAAABEQAxIUFRcYH/2gAIAQEAAT8hFVMk3FaSbAjhy9mTFs4Q3YS0LKT/2gAMAwEAAgADAAAAENcP/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAERMf/aAAgBAwEBPxCahVH/xAAXEQEBAQEAAAAAAAAAAAAAAAABABEh/9oACAECAQE/EONSJ2//xAAeEAEAAgIBBQAAAAAAAAAAAAABABEhQWExUXGh0f/aAAgBAQABPxAeWElc+JWHJGgjWCXm/HUZnIbe5yyn7hsKWr7anwGf/9k=","sizes":"(max-width: 1500px) 100vw, 1500px","src":"/static/f15fa1d1a24a28241d8b82bb79098cc9/d348a/raspi-opencv-2-1.jpg","srcSet":"/static/f15fa1d1a24a28241d8b82bb79098cc9/7e9f5/raspi-opencv-2-1.jpg 930w,\n/static/f15fa1d1a24a28241d8b82bb79098cc9/d348a/raspi-opencv-2-1.jpg 1500w"}}},"author":{"id":"Richard","bio":"Mechatronics Systems engineering student passionate about space, interested in high-reliability embedded systems and computer vision. Currently turning coffee into CubeSats and drones.","avatar":{"children":[{"fixed":{"src":"/static/a2b7322425489e49016cd6942dbb87ef/2e811/richard.jpg"}}]}}},"fields":{"layout":"","slug":"/2017/08/23/raspberry-pi-opencv-uart-communication-part-2/"}},"next":{"excerpt":"For a class project, my team and I were lucky enough to be able to build a smart lock. The prototypes were constructed of 3D printed parts…","timeToRead":3,"frontmatter":{"title":"WiFI Smart Lock","tags":["Smart Lock","3d-printing","wifi","esp8266","embedded","Blog-post"],"date":"2015-09-16T00:00:00.000Z","image":{"childImageSharp":{"fluid":{"aspectRatio":0.6666666666666666,"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAeABQDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAIDBAUB/8QAFQEBAQAAAAAAAAAAAAAAAAAAAwT/2gAMAwEAAhADEAAAAb6PVmfUGGLLhkUW1jg4f//EABwQAAICAgMAAAAAAAAAAAAAAAECADIREgMTMf/aAAgBAQABBQKdi5Ws5vVrviOwYpSaKSK//8QAFxEAAwEAAAAAAAAAAAAAAAAAAQIQEf/aAAgBAwEBPwFjhjLs/8QAGBEAAwEBAAAAAAAAAAAAAAAAAAECERD/2gAIAQIBAT8BmdQiaxc//8QAHBAAAgICAwAAAAAAAAAAAAAAAAECEBFxMUFh/9oACAEBAAY/AqVQ2I4I+MVZ7Fo//8QAHhAAAgICAgMAAAAAAAAAAAAAAAERITFREKFBcZH/2gAIAQEAAT8hwQIm2vaOsTXA9YdOQv042eR8+iRqY0sf4j//2gAMAwEAAgADAAAAEMsuQ//EABcRAQEBAQAAAAAAAAAAAAAAAAEAITH/2gAIAQMBAT8QUCXZEJPb/8QAFhEBAQEAAAAAAAAAAAAAAAAAAQAx/9oACAECAQE/ECZbBAxGX//EAB4QAQADAAICAwAAAAAAAAAAAAEAESExQRBRcdHw/9oACAEBAAE/EABa4S0ZWi8uGajSIM+Pp4rsF+aaqZMbZlVmB38xr+SYdvcthE0Mo/Zk/9k=","sizes":"(max-width: 1296px) 100vw, 1296px","src":"/static/71a75a9cfa56bcdb5a9ddc0eda3fe386/a6f99/smartlock-1.jpg","srcSet":"/static/71a75a9cfa56bcdb5a9ddc0eda3fe386/48ab2/smartlock-1.jpg 930w,\n/static/71a75a9cfa56bcdb5a9ddc0eda3fe386/a6f99/smartlock-1.jpg 1296w"}}},"author":{"id":"Richard","bio":"Mechatronics Systems engineering student passionate about space, interested in high-reliability embedded systems and computer vision. Currently turning coffee into CubeSats and drones.","avatar":{"children":[{"fixed":{"src":"/static/a2b7322425489e49016cd6942dbb87ef/2e811/richard.jpg"}}]}}},"fields":{"layout":"","slug":"/2015/09/16/smartlock/"}},"primaryTag":"MATLAB"}}